import"./vue-BCJY8gBf.js";import{u as h,b as x}from"./vue-router-Bk-12vT2.js";import{h as u,i as k,a as N}from"./index-DnKBT612.js";import{c as q,a as D}from"./element-plus-BIk4sW6s.js";import{d as S,B as n,j as l,o as y,c as I,k as s,l as p,v as w,u as z}from"./@vue-BwKUEgJD.js";import"./axios-DWt2DAqT.js";import"./pinia-TB7j859w.js";import"./vue-demi-DP18qiWf.js";import"./@vueuse-BO9Bf6Jf.js";import"./js-cookie-C1NIBS1L.js";import"./vue-i18n-DkRB_xiH.js";import"./@intlify-BnZ-SFqO.js";/* empty css                    */import"./dayjs-CpORZXld.js";import"./element-easy-print-DsNlMTPy.js";import"./mockjs-CpzBLoCE.js";import"./lodash-Ce2coQ-v.js";import"./vue3-draggable-resizable-yn-CG0QmAMT.js";import"./element-easy-form-CUlqWkgt.js";import"./vuedraggable-BjUjsGh2.js";import"./@vue-monaco-B0CNy8YX.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-D9bzjPyL.js";import"./lodash-es-D0ldFxdg.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-riLredlm.js";import"./async-validator-BxgltDpX.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-uXSQws5g.js";function m(o){return u.request({url:"/monitor/online/list",method:"get",params:o})}function C(o){return u.request({url:"/monitor/online/"+o,method:"delete"})}const R={class:"commonBoxmp"},T=S({__name:"index",setup(o){h(),x();const{parseTime:B,addDateRange:c,getDict:F,selectDictLabel:L}=k(),t=n({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"会话编号",prop:"tokenId",visible:!0},{label:"登录名称",prop:"userName",visible:!0},{label:"部门名称",prop:"deptName",visible:!0},{label:"主机",visible:!0,prop:"ipaddr"},{label:"登录地点",visible:!0,prop:"loginLocation"},{label:"浏览器",visible:!0,prop:"browser"},{label:"操作系统",prop:"os",visible:!0},{label:"登录日期",prop:"loginTime",visible:!0}],loading:!1}),i=n({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),a=n(JSON.parse(JSON.stringify({pageNum:1,pageSize:10}))),g=e=>{const r=e.tokenId;q.confirm('是否确认强退名称为"'+e.userName+'"的用户？').then(function(){return C(r)}).then(()=>{D.success("删除成功"),d()}).catch(function(){})},d=()=>{t.loading=!0,a.pageNum=i.currentPage,a.pageSize=i.pageSize,m(c(a,t.dateRange)).then(e=>{t.tableData=e.rows,i.total=e.total,t.loading=!1})};return(e,r)=>{const b=l("el-link"),f=l("el-table-column"),_=l("TableV2");return y(),I("div",R,[s(_,{class:"flex1",ref:"tableV2Ref",isInit:!0,apiFunction:z(m),selection:"",columns:t.columnData},{operation:p(()=>[s(f,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:p(v=>[s(b,{type:"primary",onClick:E=>g(v.row)},{default:p(()=>r[0]||(r[0]=[w("强退")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"])])}}}),de=N(T,[["__file","D:/work/public/admin-tempalte-base/src/views/monitor/online/index.vue"]]);export{de as default};
