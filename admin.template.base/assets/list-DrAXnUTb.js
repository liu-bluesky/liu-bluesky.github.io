import"./vue-DSB24BnW.js";import{l as E,a as K,c as L}from"./cache-BDS3n2uU.js";import{e as $}from"./index-CfbifT15.js";import{a as m}from"./element-plus-Cdmo8XhC.js";import{d as H,v as R,f as O,h as n,au as U,c as z,i as e,j as t,o as f,m as _,R as B,l as N,a as g}from"./@vue-CmN6Z9lx.js";import"./ace-builds-DiBK84cm.js";import"./vue-router-fyTrc5Va.js";import"./vuex-CLkfaZ6_.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-Jw_v0k3c.js";import"./@vueuse-D81fD1wx.js";import"./nprogress-C9k5oxGd.js";import"./axios-BNZxzx77.js";import"./@element-plus-DGCe4rM-.js";/* empty css                    */import"./dayjs-BhI1duP8.js";import"./element-easy-form-Dkjp9jsl.js";import"./mockjs-72j0mDZC.js";import"./vuedraggable-C0hio2tq.js";import"./sortablejs-CUXm9Ppf.js";import"./vue3-ace-editor-YX3apWn1.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./uuid-CQkTLCs1.js";import"./vue-i18n-BPZ2p18e.js";import"./@intlify-fCQYzvHO.js";import"./element-easy-print-B_PXcQ-3.js";import"./vue3-draggable-resizable-yn-Cm3Ut1tY.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";const M={class:"app-container"},j=g("span",null," 缓存列表",-1),T=g("span",null," 键名列表",-1),q=g("span",null," 缓存内容",-1),Ne=H({__name:"list",setup(A){console.log("store :>> ",$);const a=R({tableData:[],cacheNames:[],cacheKeys:[],cacheForm:{},nowCacheName:"",loading:!0,subLoading:!1,tableHeight:window.innerHeight-200}),C=()=>{a.loading=!0,E().then(u=>{a.cacheNames=u.data,a.loading=!1})},v=()=>{C(),m.success("刷新缓存列表成功")},s=u=>{const o=u!==void 0?u.cacheName:a.nowCacheName;o!==""&&(a.subLoading=!0,K(o).then(r=>{a.cacheKeys=r.data,a.subLoading=!1,a.nowCacheName=o}))},x=u=>{L(u.cacheName).then(o=>{m.success("清理缓存名称["+a.nowCacheName+"]成功"),s()})},F=()=>{s(),m.success("刷新键名列表成功")},V=()=>{s(),m.success("刷新键名列表成功")};return O(()=>{C()}),(u,o)=>{const r=n("el-button"),i=n("el-table-column"),w=n("el-table"),d=n("el-card"),c=n("el-col"),p=n("el-input"),h=n("el-form-item"),y=n("el-row"),k=n("el-form"),b=U("loading");return f(),z("div",M,[e(y,{gutter:10},{default:t(()=>[e(c,{span:8},{default:t(()=>[e(d,{style:{height:"calc(100vh - 125px)"}},{header:t(()=>[j,e(r,{style:{float:"right",padding:"3px 0"},type:"text",onClick:o[0]||(o[0]=l=>v())},{default:t(()=>[_("刷新缓存")]),_:1})]),default:t(()=>[B((f(),N(w,{data:a.cacheNames,height:u.tableHeight,"highlight-current-row":"",onRowClick:s,style:{width:"100%"}},{default:t(()=>[e(i,{label:"序号",width:"60",type:"index"}),e(i,{label:"缓存名称",align:"center",prop:"cacheName","show-overflow-tooltip":!0,formatter:u.nameFormatter},null,8,["formatter"]),e(i,{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}),e(i,{label:"操作",width:"60",align:"center","class-name":"small-padding fixed-width"},{default:t(l=>[e(r,{size:"mini",type:"text",icon:"el-icon-delete",onClick:D=>x(l.row)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height"])),[[b,a.loading]])]),_:1})]),_:1}),e(c,{span:8},{default:t(()=>[e(d,{style:{height:"calc(100vh - 125px)"}},{header:t(()=>[T,e(r,{style:{float:"right",padding:"3px 0"},type:"text",onClick:o[1]||(o[1]=l=>F())},{default:t(()=>[_("刷新键名")]),_:1})]),default:t(()=>[B((f(),N(w,{data:a.cacheKeys,height:a.tableHeight,"highlight-current-row":"",onRowClick:u.handleCacheValue,style:{width:"100%"}},{default:t(()=>[e(i,{label:"序号",width:"60",type:"index"}),e(i,{label:"缓存键名",align:"center","show-overflow-tooltip":!0,formatter:u.keyFormatter},null,8,["formatter"]),e(i,{label:"操作",width:"60",align:"center","class-name":"small-padding fixed-width"},{default:t(l=>[e(r,{size:"mini",type:"text",icon:"el-icon-delete",onClick:D=>V(l.row)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height","onRowClick"])),[[b,a.subLoading]])]),_:1})]),_:1}),e(c,{span:8},{default:t(()=>[e(d,{bordered:!1,style:{height:"calc(100vh - 125px)"}},{header:t(()=>[q,e(r,{style:{float:"right",padding:"3px 0"},type:"text",icon:"el-icon-refresh-right",onClick:o[2]||(o[2]=l=>F())},{default:t(()=>[_("清理全部")]),_:1})]),default:t(()=>[e(k,{model:a.cacheForm},{default:t(()=>[e(y,{gutter:32},{default:t(()=>[e(c,{offset:1,span:22},{default:t(()=>[e(h,{label:"缓存名称:",prop:"cacheName"},{default:t(()=>[e(p,{modelValue:a.cacheForm.cacheName,"onUpdate:modelValue":o[3]||(o[3]=l=>a.cacheForm.cacheName=l),readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{offset:1,span:22},{default:t(()=>[e(h,{label:"缓存键名:",prop:"cacheKey"},{default:t(()=>[e(p,{modelValue:a.cacheForm.cacheKey,"onUpdate:modelValue":o[4]||(o[4]=l=>a.cacheForm.cacheKey=l),readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(c,{offset:1,span:22},{default:t(()=>[e(h,{label:"缓存内容:",prop:"cacheValue"},{default:t(()=>[e(p,{modelValue:a.cacheForm.cacheValue,"onUpdate:modelValue":o[5]||(o[5]=l=>a.cacheForm.cacheValue=l),type:"textarea",rows:8,readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}}});export{Ne as default};
