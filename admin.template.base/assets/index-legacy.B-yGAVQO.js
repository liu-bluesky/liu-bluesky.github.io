System.register(["./vue-legacy.BmYqjNm6.js","./vue-router-legacy.CS8XlyrO.js","./index-legacy.BIymG9zs.js","./@vue-legacy.Wt3blPL2.js","./menu-legacy.BreSotnf.js","./index-legacy.foMZjjNw.js","./element-plus-legacy.CkGmQsvp.js","./axios-legacy.DBjxdIo9.js","./pinia-legacy.DuSvsY-k.js","./vue-demi-legacy.IwaVch8H.js","./js-cookie-legacy.DG9X5X6R.js","./@vueuse-legacy.DSS55YJ-.js","./vue-i18n-legacy.CQRl9MO2.js","./@intlify-legacy.B2b6NwAY.js","./animate.css-legacy.BfzBEcwY.js","./dayjs-legacy.DqxV5GdU.js","./element-easy-print-legacy.Bhsouh8x.js","./mockjs-legacy.DI-hmJr1.js","./vue3-draggable-resizable-yn-legacy.BHLFICD8.js","./element-easy-form-legacy.B3Saky-F.js","./vuedraggable-legacy.lX_CBnec.js","./@vue-monaco-legacy.BMCOK2-c.js","./uuid-legacy.2vyezZly.js","./@element-plus-legacy.DgWkyxe6.js","./lodash-es-legacy.C0SrPjaY.js","./@popperjs-legacy.Dycg7rOj.js","./@ctrl-legacy.BxnR6uzU.js","./async-validator-legacy.DmN8ALBH.js","./memoize-one-legacy.BFFEFRop.js","./normalize-wheel-es-legacy.BGuSd53u.js","./@floating-ui-legacy.-y5top_l.js"],(function(e,l){"use strict";var a,t,o,u,n,s,d,r,m,i,c,p,f,y,_,b,g,h,V,v,j,k,C,w,x,I,z,T,U,N,F,S,q,D,P,O;return{setters:[null,e=>{a=e.u,t=e.b},e=>{o=e.u,u=e.f},e=>{n=e.d,s=e.f,d=e.A,r=e.s,m=e.w,i=e.i,c=e.o,p=e.c,f=e.j,y=e.k,_=e.K,b=e.m,g=e.z,h=e.F,V=e.l,v=e.u,j=e.r,k=e.b,C=e.au,w=e.a,x=e.q,I=e.X,z=e.x,T=e.v},e=>{U=e.u,N=e.a,F=e.d,S=e.g,q=e.l},e=>{D=e._},e=>{P=e.a,O=e.c},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=n({__name:"index",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const a=o(),t=s((()=>a.getIcons)),u=d({icons:[],icon:""});let n=r(!1);const j=()=>{n.value=!0},k=l,C=e;m((()=>C.modelValue),(e=>{u.icon=e}),{deep:!0,immediate:!0});const w=()=>{k("update:modelValue",""),n.value=!1};return(e,l)=>{const a=i("el-icon"),o=i("Search"),s=i("el-input"),d=i("el-scrollbar"),r=i("el-popover");return c(),p("div",null,[f(r,{placement:"bottom",width:400,visible:v(n)},{reference:y((()=>[f(s,{modelValue:u.icon,"onUpdate:modelValue":l[0]||(l[0]=e=>u.icon=e),onClick:_(j,["stop"]),onClear:w,placeholder:"点击选择图标"},{prefix:y((()=>[u.icon?(c(),b(a,{key:0,class:"llt-icon-size"},{default:y((()=>[(c(),b(g(u.icon),{class:"llt-icon-size"}))])),_:1})):(c(),b(a,{key:1,class:"llt-icon-size"},{default:y((()=>[f(o)])),_:1}))])),_:1},8,["modelValue"])])),default:y((()=>[f(d,{height:"400px"},{default:y((()=>[(c(!0),p(h,null,V(t.value,(e=>(c(),b(a,{key:e,onClick:l=>{k("update:modelValue",e)},class:"llt-icon-size"},{default:y((()=>[(c(),b(g(e)))])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["visible"])])}}}),R={class:"commonBoxmp"},A={class:"jcb aic w100"},K={class:"aic"},M={class:"aic"},B={class:"aic"},H={class:"aic"},Q={class:"aic"},X={class:"aic"},E={class:"aic"},G={class:"aic"},J={class:"dialog-footer"};e("default",n({__name:"index",setup(e){a(),t();const{parseTime:o,addDateRange:n,handleTree:s,getDict:r}=u();let m=d({sys_normal_disable:[],sys_show_hide:[]});const _=d({menuOptions:[],title:"",form:{},userVisible:!1,rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"菜单名称",prop:"menuName",visible:!0},{label:"图标",prop:"icon",visible:!0},{label:"排序",prop:"orderNum",visible:!0},{label:"权限标识",prop:"perms",visible:!0},{label:"组件路径",visible:!0,prop:"component"},{label:"状态",prop:"status",visible:!0,render:({row:e})=>f(D,{values:e.status,dataType:"primary",options:m.sys_job_status},null)},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1}),g=d({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),L=d({pageNum:1,pageSize:10,deptId:void 0}),W=e=>{$(),_.userVisible=!0,_.title="添加菜单",_.form={},null!=e&&e.menuId?_.form.parentId=e.menuId:_.form.parentId=0},Y=e=>{},Z=()=>{_.loading=!0,L.pageNum=g.currentPage,L.pageSize=g.pageSize,q(n(L,_.dateRange)).then((e=>{_.tableData=s(e.data,"menuId"),_.loading=!1}))},$=()=>{q().then((e=>{_.menuOptions=[];const l={menuId:0,menuName:"主类目",children:[]};l.children=s(e.data,"menuId"),_.menuOptions.push(l)}))},ee=j();return k((async()=>{Z(),$(),m.sys_job_status=await r("sys_job_status"),m.sys_normal_disable=await r("sys_normal_disable"),m.sys_show_hide=await r("sys_show_hide")})),(e,a)=>{const t=i("el-button"),o=i("el-table-column"),u=i("TableV2"),n=i("el-cascader"),s=i("el-form-item"),d=i("el-col"),r=i("el-row"),g=i("el-radio"),j=i("el-radio-group"),k=i("el-input"),q=i("el-input-number"),D=i("QuestionFilled"),L=i("el-icon"),$=i("el-tooltip"),le=i("el-form"),ae=i("el-dialog"),te=C("hasPermi");return c(),p("div",R,[f(u,{selection:"",onSelectionChange:e.handleselectionChange,columns:_.columnData,dataKey:"data",data:_.tableData,tableOptions:{rowKey:"menuId",border:!0,treeProps:{children:"children",hasChildren:"hasChildren"}}},{tableHeader:y((()=>[w("div",A,[f(t,{type:"primary",onClick:W},{default:y((()=>a[16]||(a[16]=[x("添加菜单")]))),_:1})])])),operation:y((()=>[f(o,{label:"操作",align:"center","class-name":"small-padding fixed-width"},{default:y((e=>[I((c(),b(t,{size:"mini",type:"text",onClick:l=>(e=>{const l=e.menuId;S(l).then((e=>{_.title="修改菜单",_.form=e.data,_.userVisible=!0}))})(e.row)},{default:y((()=>a[17]||(a[17]=[x("修改")]))),_:2},1032,["onClick"])),[[te,["system:menu:edit"]]]),I((c(),b(t,{size:"mini",type:"text",onClick:l=>W(e.row)},{default:y((()=>a[18]||(a[18]=[x("新增")]))),_:2},1032,["onClick"])),[[te,["system:menu:add"]]]),I((c(),b(t,{size:"mini",type:"text",onClick:l=>(e=>{const l=e.menuId;O.confirm('是否确认删除用户编号为"'+l+'"的数据项？').then((function(){return F(l)})).then((()=>{P.success("删除成功"),Z()})).catch((function(){}))})(e.row)},{default:y((()=>a[19]||(a[19]=[x("删除")]))),_:2},1032,["onClick"])),[[te,["system:menu:remove"]]])])),_:1})])),_:1},8,["onSelectionChange","columns","data"]),f(ae,{modelValue:_.userVisible,"onUpdate:modelValue":a[15]||(a[15]=e=>_.userVisible=e),title:_.title,width:"50%","destroy-on-close":"",center:""},{footer:y((()=>[w("span",J,[f(t,{onClick:a[13]||(a[13]=e=>_.userVisible=!1)},{default:y((()=>a[35]||(a[35]=[x("取消")]))),_:1}),f(t,{type:"primary",onClick:a[14]||(a[14]=e=>(async e=>{e&&(await e.validate(),null!=_.form.menuId?(console.log("state.form :>> ",_.form),_.form.parentId=null==_.form.parentId?0:_.form.parentId,U(_.form).then((e=>{P.success("修改成功"),_.userVisible=!1,Z()}))):N(_.form).then((e=>{P.success("新增成功"),_.userVisible=!1,Z()})))})(ee.value))},{default:y((()=>a[36]||(a[36]=[x(" 确定 ")]))),_:1})])])),default:y((()=>[f(le,{ref_key:"ruleFormRef",ref:ee,model:_.form,rules:_.rules,"label-width":"120px",class:"demo-ruleForm"},{default:y((()=>[f(r,{gutter:20},{default:y((()=>[f(d,{span:24},{default:y((()=>[f(s,{label:"上级菜单",prop:"parentId"},{default:y((()=>[f(n,{options:_.menuOptions,modelValue:_.form.parentId,"onUpdate:modelValue":a[0]||(a[0]=e=>_.form.parentId=e),class:"w100",props:{checkStrictly:!0,emitPath:!1,value:"menuId",label:"menuName"},clearable:"",onChange:Y},null,8,["options","modelValue"])])),_:1})])),_:1})])),_:1}),f(r,{gutter:20},{default:y((()=>[f(d,{span:24},{default:y((()=>[f(s,{label:"菜单类型",prop:"menuType"},{default:y((()=>[f(j,{modelValue:_.form.menuType,"onUpdate:modelValue":a[1]||(a[1]=e=>_.form.menuType=e)},{default:y((()=>[f(g,{label:"M"},{default:y((()=>a[20]||(a[20]=[x("目录")]))),_:1}),f(g,{label:"C"},{default:y((()=>a[21]||(a[21]=[x("菜单")]))),_:1}),f(g,{label:"F"},{default:y((()=>a[22]||(a[22]=[x("按钮")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),"F"!=_.form.menuType?(c(),b(d,{key:0,span:24},{default:y((()=>[f(s,{label:"菜单图标"},{default:y((()=>[f(l,{class:"w100",modelValue:_.form.icon,"onUpdate:modelValue":a[2]||(a[2]=e=>_.form.icon=e)},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),f(d,{span:12},{default:y((()=>[f(s,{label:"菜单名称",prop:"menuName"},{default:y((()=>[f(k,{modelValue:_.form.menuName,"onUpdate:modelValue":a[3]||(a[3]=e=>_.form.menuName=e),placeholder:"请输入菜单名称"},null,8,["modelValue"])])),_:1})])),_:1}),f(d,{span:12},{default:y((()=>[f(s,{label:"显示排序",prop:"orderNum"},{default:y((()=>[f(q,{modelValue:_.form.orderNum,"onUpdate:modelValue":a[4]||(a[4]=e=>_.form.orderNum=e),"controls-position":"right",min:0},null,8,["modelValue"])])),_:1})])),_:1}),"F"!=_.form.menuType?(c(),b(d,{key:1,span:12},{default:y((()=>[f(s,{prop:"isFrame"},{label:y((()=>[w("div",K,[f($,{content:"选择是外链则路由地址需要以`http(s)://`开头",placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[23]||(a[23]=x(" 是否外链 "))])])),default:y((()=>[f(j,{modelValue:_.form.isFrame,"onUpdate:modelValue":a[5]||(a[5]=e=>_.form.isFrame=e)},{default:y((()=>[f(g,{label:"0"},{default:y((()=>a[24]||(a[24]=[x("是")]))),_:1}),f(g,{label:"1"},{default:y((()=>a[25]||(a[25]=[x("否")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):z("",!0),"F"!=_.form.menuType?(c(),b(d,{key:2,span:12},{default:y((()=>[f(s,{prop:"path"},{label:y((()=>[w("div",M,[f($,{content:"访问的路由地址，如：`user`，如外网地址需内链访问则以`http(s)://`开头",placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[26]||(a[26]=x(" 路由地址 "))])])),default:y((()=>[f(k,{modelValue:_.form.path,"onUpdate:modelValue":a[6]||(a[6]=e=>_.form.path=e),placeholder:"请输入路由地址"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),"C"==_.form.menuType?(c(),b(d,{key:3,span:12},{default:y((()=>[f(s,{prop:"component"},{label:y((()=>[w("div",B,[f($,{content:"访问的组件路径，如：`system/user/index`，默认在`views`目录下",placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[27]||(a[27]=x(" 组件路径 "))])])),default:y((()=>[f(k,{modelValue:_.form.component,"onUpdate:modelValue":a[7]||(a[7]=e=>_.form.component=e),placeholder:"请输入组件路径"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),"M"!=_.form.menuType?(c(),b(d,{key:4,span:12},{default:y((()=>[f(s,{prop:"perms"},{label:y((()=>[w("div",H,[f($,{content:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasPermi('system:user:list')`)",placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[28]||(a[28]=x(" 权限字符 "))])])),default:y((()=>[f(k,{modelValue:_.form.perms,"onUpdate:modelValue":a[8]||(a[8]=e=>_.form.perms=e),placeholder:"请输入权限标识",maxlength:"100"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),"C"==_.form.menuType?(c(),b(d,{key:5,span:12},{default:y((()=>[f(s,{prop:"query"},{label:y((()=>[w("div",Q,[f($,{content:'访问路由的默认传递参数，如：`{"id": 1, "name": "ry"}`',placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[29]||(a[29]=x(" 路由参数 "))])])),default:y((()=>[f(k,{modelValue:_.form.query,"onUpdate:modelValue":a[9]||(a[9]=e=>_.form.query=e),placeholder:"请输入路由参数",maxlength:"255"},null,8,["modelValue"])])),_:1})])),_:1})):z("",!0),"C"==_.form.menuType?(c(),b(d,{key:6,span:12},{default:y((()=>[f(s,{prop:"isCache"},{label:y((()=>[w("div",X,[f($,{content:"选择是则会被`keep-alive`缓存，需要匹配组件的`name`和地址保持一致",placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[30]||(a[30]=x(" 是否缓存 "))])])),default:y((()=>[f(j,{modelValue:_.form.isCache,"onUpdate:modelValue":a[10]||(a[10]=e=>_.form.isCache=e)},{default:y((()=>[f(g,{label:"0"},{default:y((()=>a[31]||(a[31]=[x("缓存")]))),_:1}),f(g,{label:"1"},{default:y((()=>a[32]||(a[32]=[x("不缓存")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):z("",!0),"F"!=_.form.menuType?(c(),b(d,{key:7,span:12},{default:y((()=>[f(s,{prop:"visible"},{label:y((()=>[w("div",E,[f($,{content:"选择隐藏则路由将不会出现在侧边栏，但仍然可以访问",placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[33]||(a[33]=x(" 显示状态 "))])])),default:y((()=>[f(j,{modelValue:_.form.visible,"onUpdate:modelValue":a[11]||(a[11]=e=>_.form.visible=e)},{default:y((()=>[(c(!0),p(h,null,V(v(m).sys_show_hide,(e=>(c(),b(g,{key:e.value,label:e.value},{default:y((()=>[x(T(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):z("",!0),"F"!=_.form.menuType?(c(),b(d,{key:8,span:12},{default:y((()=>[f(s,{prop:"status"},{label:y((()=>[w("div",G,[f($,{content:"选择停用则路由将不会出现在侧边栏，也不能被访问",placement:"top"},{default:y((()=>[f(L,null,{default:y((()=>[f(D)])),_:1})])),_:1}),a[34]||(a[34]=x(" 菜单状态 "))])])),default:y((()=>[f(j,{modelValue:_.form.status,"onUpdate:modelValue":a[12]||(a[12]=e=>_.form.status=e)},{default:y((()=>[(c(!0),p(h,null,V(v(m).sys_normal_disable,(e=>(c(),b(g,{key:e.value,label:e.value},{default:y((()=>[x(T(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):z("",!0)])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}}))}}}));
