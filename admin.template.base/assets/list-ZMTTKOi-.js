import"./vue-BCJY8gBf.js";import{u as V}from"./index-2hU62RTH.js";import{S as g}from"./sortablejs-CH471lad.js";import{d as k,r as _,s as S,B as T,b as C,j as o,o as D,c as I,k as e,l as t,a as u,v as N,t as B,n as R}from"./@vue-BwKUEgJD.js";import{a as U}from"./index-DnKBT612.js";import"./axios-DWt2DAqT.js";import"./mockjs-CpzBLoCE.js";import"./vue-router-Bk-12vT2.js";import"./pinia-TB7j859w.js";import"./vue-demi-DP18qiWf.js";import"./@vueuse-BO9Bf6Jf.js";import"./js-cookie-C1NIBS1L.js";import"./element-plus-BIk4sW6s.js";import"./lodash-es-D0ldFxdg.js";import"./@element-plus-D9bzjPyL.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-riLredlm.js";import"./dayjs-CpORZXld.js";import"./async-validator-BxgltDpX.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-uXSQws5g.js";import"./vue-i18n-DkRB_xiH.js";import"./@intlify-BnZ-SFqO.js";/* empty css                    */import"./element-easy-print-DsNlMTPy.js";import"./lodash-Ce2coQ-v.js";import"./vue3-draggable-resizable-yn-CG0QmAMT.js";import"./element-easy-form-CUlqWkgt.js";import"./vuedraggable-BjUjsGh2.js";import"./@vue-monaco-B0CNy8YX.js";import"./uuid-CQkTLCs1.js";const j={class:"fieldList"},q={class:"aic jcc mt20"},z=k({__name:"list",setup(E){const s=_(V);S(null);const c=_();T({});function b(){const a=c.value.$el.querySelectorAll(".el-table__body")[0];g.create(a.querySelector("tbody"),{disabled:!1,ghostClass:"sortable-ghost",animation:150,group:{pull:!1,put:!1},onEnd:p=>{let i=JSON.parse(JSON.stringify(B(s.value)));var l=p.newIndex,m=p.oldIndex,n=i.splice(m,1);i.splice(l,0,n[0]),s.value=[],R(()=>{s.value=i})}})}const f=()=>{};return C(()=>{b()}),(v,a)=>{const p=o("Rank"),i=o("el-icon"),l=o("el-table-column"),m=o("el-switch"),n=o("el-option"),w=o("el-select"),h=o("el-table"),x=o("el-button"),y=o("el-card");return D(),I("div",j,[e(y,null,{header:t(()=>a[0]||(a[0]=[u("div",{class:"header"}," 拖拽进行排序 ",-1)])),default:t(()=>[e(h,{ref_key:"dragTable",ref:c,data:s.value,style:{width:"100%"}},{default:t(()=>[e(l,{prop:"field",width:"60",label:"锚点"},{default:t(r=>[e(i,{style:{cursor:"move"}},{default:t(()=>[e(p)]),_:1})]),_:1}),e(l,{prop:"label",label:"字段描述"}),e(l,{prop:"prop",label:"列表字段"}),e(l,{prop:"label",label:"是否返回"},{default:t(r=>[e(m,{modelValue:r.row.visible,"onUpdate:modelValue":d=>r.row.visible=d,size:"mini"},null,8,["modelValue","onUpdate:modelValue"])]),_:1}),e(l,{prop:"label",label:"固定位置"},{default:t(r=>[e(w,{modelValue:r.row.fixed,"onUpdate:modelValue":d=>r.row.fixed=d,placeholder:"固定位置",size:"mini",clearable:"",style:{width:"140px"}},{default:t(()=>[e(n,{label:"不固定",value:""}),e(n,{label:"固定到列头",value:"left"}),e(n,{label:"固定到列尾",value:"right"})]),_:2},1032,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"]),u("div",q,[e(x,{type:"primary",onClick:f},{default:t(()=>a[1]||(a[1]=[N("保存")])),_:1})])]),_:1})])}}}),fe=U(z,[["__scopeId","data-v-dd2a13f4"],["__file","D:/work/public/admin-tempalte-base/src/views/generate/DataPool/component/list.vue"]]);export{fe as default};
