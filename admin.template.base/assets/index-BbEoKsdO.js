import"./vue-DSB24BnW.js";import{u as v,a as x}from"./vue-router-fyTrc5Va.js";import{h as u,f as N}from"./index-CfbifT15.js";import{c as q,a as S}from"./element-plus-Cdmo8XhC.js";import{d as k,r as D,v as a,h as n,c as I,i as l,j as s,u as y,o as z,m as C}from"./@vue-CmN6Z9lx.js";import"./ace-builds-DiBK84cm.js";import"./vuex-CLkfaZ6_.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-Jw_v0k3c.js";import"./@vueuse-D81fD1wx.js";import"./nprogress-C9k5oxGd.js";import"./axios-BNZxzx77.js";import"./@element-plus-DGCe4rM-.js";/* empty css                    */import"./dayjs-BhI1duP8.js";import"./element-easy-form-Dkjp9jsl.js";import"./mockjs-72j0mDZC.js";import"./vuedraggable-C0hio2tq.js";import"./sortablejs-CUXm9Ppf.js";import"./vue3-ace-editor-YX3apWn1.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./uuid-CQkTLCs1.js";import"./vue-i18n-BPZ2p18e.js";import"./@intlify-fCQYzvHO.js";import"./element-easy-print-B_PXcQ-3.js";import"./vue3-draggable-resizable-yn-Cm3Ut1tY.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";function m(o){return u.request({url:"/monitor/online/list",method:"get",params:o})}function R(o){return u.request({url:"/monitor/online/"+o,method:"delete"})}const T={class:"commonBoxmp"},fe=k({__name:"index",setup(o){v(),x();const{parseTime:F,addDateRange:c,getDict:L,selectDictLabel:V}=N();D(!0);const t=a({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"会话编号",prop:"tokenId",visible:!0},{label:"登录名称",prop:"userName",visible:!0},{label:"部门名称",prop:"deptName",visible:!0},{label:"主机",visible:!0,prop:"ipaddr"},{label:"登录地点",visible:!0,prop:"loginLocation"},{label:"浏览器",visible:!0,prop:"browser"},{label:"操作系统",prop:"os",visible:!0},{label:"登录日期",prop:"loginTime",visible:!0}],loading:!1}),r=a({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),i=a(JSON.parse(JSON.stringify({pageNum:1,pageSize:10}))),g=e=>{const p=e.tokenId;q.confirm('是否确认强退名称为"'+e.userName+'"的用户？').then(function(){return R(p)}).then(()=>{S.success("删除成功"),d()}).catch(function(){})},d=()=>{t.loading=!0,i.pageNum=r.currentPage,i.pageSize=r.pageSize,m(c(i,t.dateRange)).then(e=>{t.tableData=e.rows,r.total=e.total,t.loading=!1})};return(e,p)=>{const b=n("el-button"),f=n("el-table-column"),_=n("TableV2");return z(),I("div",T,[l(_,{class:"flex1",ref:"tableV2Ref",isInit:!0,apiFunction:y(m),selection:"",columns:t.columnData},{operation:s(()=>[l(f,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:s(h=>[l(b,{type:"text",onClick:B=>g(h.row)},{default:s(()=>[C("强退")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"])])}}});export{fe as default};
