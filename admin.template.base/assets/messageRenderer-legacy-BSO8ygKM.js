System.register(["./vue-legacy-BwqaE-UV.js","./markdown-it-legacy-Cxu8OkqB.js","./highlight.js-legacy-CJO4gtIq.js","./clipboard-legacy-CtOWBnsp.js","./@vue-legacy-DnKxfRmB.js","./index-legacy-DkHySrN9.js","./axios-legacy-DOQcXz3s.js","./mdurl-legacy-DrmcK9E1.js","./uc.micro-legacy-UKWpW8c-.js","./entities-legacy-BdGNwtRA.js","./linkify-it-legacy-DCDcsSmW.js","./punycode.js-legacy-QWzyNrkt.js","./vue-router-legacy-D0FjC2WZ.js","./pinia-legacy-CPPRg8p1.js","./vue-demi-legacy-DUElpuNi.js","./@vueuse-legacy-B8BAriPD.js","./js-cookie-legacy-C5MzxRlA.js","./element-plus-legacy-wKlBsICL.js","./lodash-es-legacy-C-A1-n4T.js","./@element-plus-legacy-Cp3RqB0e.js","./@popperjs-legacy-C1grkGOr.js","./@ctrl-legacy-9okVt3ht.js","./dayjs-legacy-BEK7-do9.js","./async-validator-legacy-CHN_Z1xY.js","./memoize-one-legacy-BdKv67M6.js","./normalize-wheel-es-legacy-k5qzjKXA.js","./@floating-ui-legacy-CYdxb3Dm.js","./vue-i18n-legacy-I02oa_8H.js","./@intlify-legacy-DKMS_M3y.js","./animate.css-legacy-z9SqsCt_.js","./element-easy-print-legacy-P4zBGZwT.js","./mockjs-legacy-B6RXmGMp.js","./lodash-legacy-BjC4_Cl0.js","./vue3-draggable-resizable-yn-legacy-DjejEIa5.js","./element-easy-form-legacy-DUWnY3xV.js","./vuedraggable-legacy-COMv7T1_.js","./@vue-monaco-legacy-CjDR2hhE.js","./uuid-legacy-BdquiBiX.js"],function(e,l){"use strict";var t,n,a,s,c,r,i,u,o,g,d,y;return{setters:[null,e=>{t=e.M},e=>{n=e.H},e=>{a=e.C},e=>{s=e.d,c=e.r,r=e.b,i=e.o,u=e.c,o=e.a,g=e.y,d=e.L},e=>{y=e.a},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){var l=document.createElement("style");l.textContent='@charset "UTF-8";.message-renderer .message-text p{line-height:1.5}.message-renderer .code-block{position:relative;padding:10px}.message-renderer .copy-btn{position:absolute;top:4px;right:8px;background:#525252;color:#fff;border:none;padding:4px 8px;border-radius:4px;cursor:pointer;opacity:0;transition:opacity .3s}.message-renderer .code-block:hover .copy-btn{opacity:1}\n',document.head.appendChild(l);const m={class:"message-renderer"},p=["innerHTML"],j=["src"];e("default",y(s({__name:"messageRenderer",props:{content:{type:String,required:!0},type:{type:String,default:"assistant"}},setup(e){const l=e,s=e=>{const l=`code-${Date.now()}`;return`\n      <div class="code-block">\n       <button class="copy-btn"\n       data-id="${l}"\n       data-clipboard-target="#${l}">复制</button>\n        <pre><code class="hljs" id="${l}">${e}</code></pre>\n       \n      </div>\n    `},y=t({html:!0,linkify:!0,typographer:!0,highlight:function(e,l){if(l&&"vue"===l.toLowerCase())try{return s(n.highlight(e,{language:"html",ignoreIllegals:!0}).value)}catch(t){}if(l&&n.getLanguage(l))try{return s(n.highlight(e,{language:l,ignoreIllegals:!0}).value)}catch(t){}return s(y.utils.escapeHtml(e))}});y.renderer.rules.fence=(e,l,t,a,c)=>{const r=e[l],i=r.content.trim(),u=r.info||"";if(u&&"vue"===u.toLowerCase())try{return s(n.highlight(i,{language:"html",ignoreIllegals:!0}).value)}catch(o){}if(u&&n.getLanguage(u))try{return s(n.highlight(i,{language:u,ignoreIllegals:!0}).value)}catch(o){}return s(y.utils.escapeHtml(i))};const h=c(""),v=c(!1),f=c(""),b=()=>{let e=y.render(l.content);h.value=e,setTimeout(()=>{new a(".copy-btn",{text:e=>{const l=e.dataset.id;return console.log("document.getElementById(id) :>> ",document.getElementById(l)),document.getElementById(l).innerText}}).on("success",e=>{e.trigger.textContent="已复制",setTimeout(()=>e.trigger.textContent="复制",3e3),e.clearSelection()}),document.querySelectorAll(".markdown-content img").forEach(e=>{e.addEventListener("click",function(){f.value=this.src,v.value=!0})})},0)};return r(()=>{b()}),(e,l)=>(i(),u("div",m,[o("div",{class:"message-text",innerHTML:h.value},null,8,p),g(" 图片预览模态框 "),v.value?(i(),u("div",{key:0,class:"fixed inset-0 bg-black/80 flex items-center justify-center z-50",onClick:l[1]||(l[1]=d(e=>v.value=!1,["self"]))},[o("button",{onClick:l[0]||(l[0]=e=>v.value=!1),class:"absolute top-4 right-4 text-white text-2xl"},l[2]||(l[2]=[o("i",{class:"fa fa-times"},null,-1)])),o("img",{src:f.value,alt:"预览图片",class:"max-w-[90%] max-h-[90vh] object-contain"},null,8,j)])):g("v-if",!0)]))}}),[["__file","D:/work/public/admin-tempalte-base/src/views/dashboard/ai/components/messageRenderer.vue"]]))}}});
