import"./vue-BM9Tihka.js";import{u as D,a as F}from"./vue-router-EuJPeoHv.js";import{f as $,o as B}from"./index-CEe7SyIl.js";import{_ as K}from"./index-XdjtvRwH.js";import{l as q,u as z,a as M,d as S,g as j}from"./config-DqAUbHpT.js";import{a as g,c as A}from"./element-plus-BPBmY4gL.js";import{d as E,r as _,A as d,b as L,i as n,c as H,j as o,k as t,u as P,o as G,a as v,q as u}from"./@vue-BKq3Py-p.js";import"./axios-CdcsOsvR.js";import"./vuex-B5FhxtE1.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-D3uKt2uU.js";import"./vue-i18n-CykCSAY5.js";import"./@intlify-fCQYzvHO.js";import"./@vueuse-CeKbzKoz.js";import"./nprogress-C1nr5Arz.js";import"./@element-plus-DrU0i_Rz.js";/* empty css                    */import"./dayjs-CuLmuTop.js";import"./element-easy-print-DysYZfHv.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-CxtjGOry.js";import"./element-easy-form-CSO3c5CP.js";import"./vuedraggable-DBgj9TYl.js";import"./sortablejs-C1wvN1Nu.js";import"./@vue-monaco-Ff2YEyYt.js";import"./uuid-CQkTLCs1.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";const J={class:"commonBoxmp"},O={class:"jcb aic w100"},Q={class:"dialog-footer"},Fe=E({__name:"index",setup(W){D(),F();const{parseTime:X,addDateRange:Y,getDict:k}=$();_(!0);const e=d({form:{},title:"",rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"参数主键",prop:"configId",visible:!0},{label:"参数名称",prop:"configName",visible:!0},{label:"参数键名",prop:"configKey",visible:!0},{label:"参数键值",prop:"configValue",visible:!0},{label:"系统内置",prop:"configType",visible:!0,render:({row:r})=>o(K,{values:r.configType,dataType:"primary",options:V.sys_yes_no},null)},{label:"备注",visible:!0,prop:"remark"},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1});d({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),d({pageNum:1,pageSize:10,deptId:void 0});const C=async r=>{r&&(await r.validate(),e.form.configId!=null?z(e.form).then(l=>{g.success("修改成功"),e.userVisible=!1,f()}):M(e.form).then(l=>{g.success("新增成功"),e.userVisible=!1,f()}))},x=r=>{const l=r.configId;A.confirm('是否确认删除编号为"'+l+'"的数据项？').then(function(){return S(l)}).then(()=>{g.success("删除成功"),f()}).catch(function(){})},w=r=>{const l=r.configId;j(l).then(i=>{e.title="修改岗位",e.form=i.data,e.userVisible=!0})},T=()=>{e.form={},e.title="添加岗位",e.userVisible=!0},b=_(),f=()=>{b.value.getList()};let V=d({sys_yes_no:[]});const y=_();return L(async()=>{V.sys_yes_no=await k("sys_yes_no")}),(r,l)=>{const i=n("el-button"),N=n("el-table-column"),h=n("TableV2"),p=n("el-input"),s=n("el-form-item"),m=n("el-col"),c=n("el-row"),R=n("el-form"),I=n("el-dialog");return G(),H("div",J,[o(h,{class:"flex1",ref_key:"tableV2Ref",ref:b,apiFunction:P(q),selection:"",columns:e.columnData},{tableHeader:t(()=>[v("div",O,[o(i,{type:"primary",onClick:T},{default:t(()=>[u("新增")]),_:1})])]),operation:t(()=>[o(N,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:t(a=>[o(i,{type:"text",onClick:U=>w(a.row)},{default:t(()=>[u("修改")]),_:2},1032,["onClick"]),o(i,{type:"text",onClick:U=>x(a.row)},{default:t(()=>[u("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"]),o(I,{modelValue:e.userVisible,"onUpdate:modelValue":l[7]||(l[7]=a=>e.userVisible=a),title:e.title,width:"50%","destroy-on-close":"",center:""},{footer:t(()=>[v("span",Q,[o(i,{onClick:l[5]||(l[5]=a=>e.userVisible=!1)},{default:t(()=>[u("取消")]),_:1}),o(i,{type:"primary",onClick:l[6]||(l[6]=a=>C(y.value))},{default:t(()=>[u(" 确定 ")]),_:1})])]),default:t(()=>[o(R,{ref_key:"ruleFormRef",ref:y,model:e.form,rules:e.rules,"label-width":"120px",class:"demo-ruleForm"},{default:t(()=>[o(c,{gutter:20},{default:t(()=>[o(m,{span:12},{default:t(()=>[o(s,{label:"参数名称",prop:"configName"},{default:t(()=>[o(p,{modelValue:e.form.configName,"onUpdate:modelValue":l[0]||(l[0]=a=>e.form.configName=a),placeholder:"请输入参数名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:t(()=>[o(s,{label:"参数键名",prop:"configKey"},{default:t(()=>[o(p,{modelValue:e.form.configKey,"onUpdate:modelValue":l[1]||(l[1]=a=>e.form.configKey=a),placeholder:"请输入参数键名"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(c,{gutter:20},{default:t(()=>[o(m,{span:12},{default:t(()=>[o(s,{label:"参数键值",prop:"configValue"},{default:t(()=>[o(p,{modelValue:e.form.configValue,"onUpdate:modelValue":l[2]||(l[2]=a=>e.form.configValue=a),placeholder:"请输入参数键值"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:t(()=>[o(s,{label:"系统内置",prop:"configType"},{default:t(()=>[o(B,{class:"w100",dictCode:"sys_yes_no",modelValue:e.form.configType,"onUpdate:modelValue":l[3]||(l[3]=a=>e.form.configType=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(c,{gutter:20},{default:t(()=>[o(m,{span:24},{default:t(()=>[o(s,{label:"备注",prop:"remark"},{default:t(()=>[o(p,{modelValue:e.form.remark,"onUpdate:modelValue":l[4]||(l[4]=a=>e.form.remark=a),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{Fe as default};
