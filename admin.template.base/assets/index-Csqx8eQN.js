import"./vue-D_Lb-A9Z.js";import{u as v,a as x}from"./vue-router-BVkJAzvN.js";import{h as u,f as N}from"./index-D5ps7mph.js";import{c as k,a as q}from"./element-plus-FIipFbdT.js";import{d as S,r as D,i as a,j as n,c as I,k as l,l as s,u as y,o as z,A as C}from"./@vue-BQoY7e5N.js";import"./axios-CdcsOsvR.js";import"./vuex-DyTWwpEf.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-D3uKt2uU.js";import"./vue-i18n-Q_0SgK56.js";import"./@intlify-fCQYzvHO.js";import"./@vueuse-4YXd5vDE.js";import"./element-easy-print-DG2WoKE1.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-D9piuQcC.js";import"./element-easy-form-vZ9-b79u.js";import"./vuedraggable-ClYEMSPW.js";import"./sortablejs-C1wvN1Nu.js";import"./@vue-monaco-CKP0PU5x.js";import"./uuid-CQkTLCs1.js";import"./nprogress-C1nr5Arz.js";import"./@element-plus-CoZ0GdCx.js";/* empty css                    */import"./dayjs-CuLmuTop.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";function m(o){return u.request({url:"/monitor/online/list",method:"get",params:o})}function R(o){return u.request({url:"/monitor/online/"+o,method:"delete"})}const T={class:"commonBoxmp"},de=S({__name:"index",setup(o){v(),x();const{parseTime:F,addDateRange:c,getDict:L,selectDictLabel:V}=N();D(!0);const t=a({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"会话编号",prop:"tokenId",visible:!0},{label:"登录名称",prop:"userName",visible:!0},{label:"部门名称",prop:"deptName",visible:!0},{label:"主机",visible:!0,prop:"ipaddr"},{label:"登录地点",visible:!0,prop:"loginLocation"},{label:"浏览器",visible:!0,prop:"browser"},{label:"操作系统",prop:"os",visible:!0},{label:"登录日期",prop:"loginTime",visible:!0}],loading:!1}),r=a({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),i=a(JSON.parse(JSON.stringify({pageNum:1,pageSize:10}))),g=e=>{const p=e.tokenId;k.confirm('是否确认强退名称为"'+e.userName+'"的用户？').then(function(){return R(p)}).then(()=>{q.success("删除成功"),d()}).catch(function(){})},d=()=>{t.loading=!0,i.pageNum=r.currentPage,i.pageSize=r.pageSize,m(c(i,t.dateRange)).then(e=>{t.tableData=e.rows,r.total=e.total,t.loading=!1})};return(e,p)=>{const b=n("el-button"),f=n("el-table-column"),_=n("TableV2");return z(),I("div",T,[l(_,{class:"flex1",ref:"tableV2Ref",isInit:!0,apiFunction:y(m),selection:"",columns:t.columnData},{operation:s(()=>[l(f,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:s(h=>[l(b,{type:"text",onClick:B=>g(h.row)},{default:s(()=>[C("强退")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"])])}}});export{de as default};
