import"./vue-DSB24BnW.js";import{u as q,a as w}from"./vue-router-fyTrc5Va.js";import{_ as D}from"./index-CR9DtD1f.js";import{h as S,f as C}from"./index-DrotXsHR.js";import{d as R,r as m,v as n,f as z,h as i,c as d,i as e,u as g,j as t,o as u,a as B,m as l,t as r,n as v,l as F}from"./@vue-CmN6Z9lx.js";import"./ace-builds-DiBK84cm.js";import"./vuex-CLkfaZ6_.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-Jw_v0k3c.js";import"./@vueuse-D81fD1wx.js";import"./nprogress-C9k5oxGd.js";import"./axios-BNZxzx77.js";import"./element-plus-Cdmo8XhC.js";import"./lodash-es-CiJSjksT.js";import"./@element-plus-DGCe4rM-.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-BhI1duP8.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";/* empty css                    */import"./element-easy-form-Dkjp9jsl.js";import"./mockjs-72j0mDZC.js";import"./vuedraggable-C0hio2tq.js";import"./sortablejs-CUXm9Ppf.js";import"./vue3-ace-editor-YX3apWn1.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./uuid-CQkTLCs1.js";import"./vue-i18n-BPZ2p18e.js";import"./@intlify-fCQYzvHO.js";import"./element-easy-print-B_PXcQ-3.js";import"./vue3-draggable-resizable-yn-Cm3Ut1tY.js";function I(_){return S.request({url:"/monitor/logininfor/list",method:"get",params:_})}const L={class:"commonBoxmp"},M={key:0},j={key:1},J={class:"dialog-footer"},Te=R({__name:"index",setup(_){q(),w();const{parseTime:y,addDateRange:O,getDict:V,selectDictLabel:P}=C();m(!0);const o=n({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"访问编号",prop:"infoId",visible:!0},{label:"用户名称",prop:"userName",visible:!0},{label:"登录地址",prop:"ipaddr",visible:!0},{label:"操作地址",prop:"loginLocation",visible:!0},{label:"浏览器",prop:"browser",visible:!0},{label:"操作系统",visible:!0,prop:"os"},{label:"登录状态",prop:"status",render:({row:f})=>e(D,{values:f.status,dataType:"primary",options:c.sys_common_status},null),visible:!0},{label:"操作信息",prop:"msg",visible:!0},{label:"登录日期",prop:"loginTime",visible:!0}],loading:!1,ids:[]});n({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),n(JSON.parse(JSON.stringify({pageNum:1,pageSize:10}))),m(!0),m(!0),m("");let c=n({sys_common_status:[]});return m(),z(async()=>{c.sys_common_status=await V("sys_common_status")}),(f,p)=>{const h=i("TableV2"),a=i("el-form-item"),s=i("el-col"),N=i("el-row"),T=i("el-form"),x=i("el-button"),k=i("el-dialog");return u(),d("div",L,[e(h,{class:"flex1",ref:"tableV2Ref",apiFunction:g(I),selection:"",columns:o.columnData},null,8,["apiFunction","columns"]),e(k,{modelValue:o.userVisible,"onUpdate:modelValue":p[1]||(p[1]=b=>o.userVisible=b),title:"操作日志详细",width:"50%","destroy-on-close":"",center:""},{footer:t(()=>[B("span",J,[e(x,{onClick:p[0]||(p[0]=b=>o.userVisible=!1)},{default:t(()=>[l("取消")]),_:1})])]),default:t(()=>[e(T,{ref:"form",model:o.form,"label-width":"100px",size:"mini"},{default:t(()=>[e(N,null,{default:t(()=>[e(s,{span:12},{default:t(()=>[e(a,{label:"操作模块："},{default:t(()=>[l(r(o.form.title)+" / "+r(f.typeFormat(o.form)),1)]),_:1}),e(a,{label:"登录信息："},{default:t(()=>[l(r(o.form.operName)+" / "+r(o.form.operIp)+" / "+r(o.form.operLocation),1)]),_:1})]),_:1}),e(s,{span:12},{default:t(()=>[e(a,{label:"请求地址："},{default:t(()=>[l(r(o.form.operUrl),1)]),_:1}),e(a,{label:"请求方式："},{default:t(()=>[l(r(o.form.requestMethod),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[e(a,{label:"操作方法："},{default:t(()=>[l(r(o.form.method),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[e(a,{label:"请求参数："},{default:t(()=>[l(r(o.form.operParam),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[e(a,{label:"返回参数："},{default:t(()=>[l(r(o.form.jsonResult),1)]),_:1})]),_:1}),e(s,{span:6},{default:t(()=>[e(a,{label:"操作状态："},{default:t(()=>[o.form.status===0?(u(),d("div",M,"正常")):o.form.status===1?(u(),d("div",j,"失败")):v("",!0)]),_:1})]),_:1}),e(s,{span:8},{default:t(()=>[e(a,{label:"消耗时间："},{default:t(()=>[l(r(o.form.costTime)+"毫秒",1)]),_:1})]),_:1}),e(s,{span:10},{default:t(()=>[e(a,{label:"操作时间："},{default:t(()=>[l(r(g(y)(o.form.operTime)),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[o.form.status===1?(u(),F(a,{key:0,label:"异常信息："},{default:t(()=>[l(r(o.form.errorMsg),1)]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{Te as default};
