import"./vue-BCJY8gBf.js";import{u as F,b as K}from"./vue-router-Bk-12vT2.js";import{g as z,i as $,a as q}from"./index-DnKBT612.js";import{D as M}from"./index-DMBomKMH.js";import{l as S,u as j,a as E,d as L,g as A}from"./config-Cod_frB-.js";import{a as g,c as H}from"./element-plus-BIk4sW6s.js";import{d as P,B as d,k as t,r as v,b as G,j as a,o as J,c as O,l,a as k,v as u,u as Q}from"./@vue-BwKUEgJD.js";import"./axios-DWt2DAqT.js";import"./pinia-TB7j859w.js";import"./vue-demi-DP18qiWf.js";import"./@vueuse-BO9Bf6Jf.js";import"./js-cookie-C1NIBS1L.js";import"./vue-i18n-DkRB_xiH.js";import"./@intlify-BnZ-SFqO.js";/* empty css                    */import"./dayjs-CpORZXld.js";import"./element-easy-print-DsNlMTPy.js";import"./mockjs-CpzBLoCE.js";import"./lodash-Ce2coQ-v.js";import"./vue3-draggable-resizable-yn-CG0QmAMT.js";import"./element-easy-form-CUlqWkgt.js";import"./vuedraggable-BjUjsGh2.js";import"./@vue-monaco-B0CNy8YX.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-D9bzjPyL.js";import"./lodash-es-D0ldFxdg.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-riLredlm.js";import"./async-validator-BxgltDpX.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-uXSQws5g.js";const W={class:"commonBoxmp"},X={class:"jcb aic w100"},Y={class:"dialog-footer"},Z=P({__name:"index",setup(h){F(),K();const{parseTime:ee,addDateRange:oe,getDict:x}=$(),o=d({form:{},title:"",rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"参数主键",prop:"configId",visible:!0},{label:"参数名称",prop:"configName",visible:!0},{label:"参数键名",prop:"configKey",visible:!0},{label:"参数键值",prop:"configValue",visible:!0},{label:"系统内置",prop:"configType",visible:!0,render:({row:i})=>t(M,{values:i.configType,dataType:"primary",options:b.sys_yes_no},null)},{label:"备注",visible:!0,prop:"remark"},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1});d({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),d({pageNum:1,pageSize:10,deptId:void 0});const C=async i=>{i&&(await i.validate(),o.form.configId!=null?j(o.form).then(e=>{g.success("修改成功"),o.userVisible=!1,f()}):E(o.form).then(e=>{g.success("新增成功"),o.userVisible=!1,f()}))},w=i=>{const e=i.configId;H.confirm('是否确认删除编号为"'+e+'"的数据项？').then(function(){return L(e)}).then(()=>{g.success("删除成功"),f()}).catch(function(){})},T=i=>{const e=i.configId;A(e).then(n=>{o.title="修改岗位",o.form=n.data,o.userVisible=!0})},D=()=>{o.form={},o.title="添加岗位",o.userVisible=!0},_=v(),f=()=>{_.value.getList()};let b=d({sys_yes_no:[]});const y=v();return G(async()=>{b.sys_yes_no=await x("sys_yes_no")}),(i,e)=>{const n=a("el-button"),V=a("el-link"),N=a("el-table-column"),R=a("TableV2"),p=a("el-input"),s=a("el-form-item"),m=a("el-col"),c=a("el-row"),I=a("el-form"),U=a("el-dialog");return J(),O("div",W,[t(R,{class:"flex1",ref_key:"tableV2Ref",ref:_,apiFunction:Q(S),selection:"",columns:o.columnData},{tableHeader:l(()=>[k("div",X,[t(n,{type:"primary",onClick:D},{default:l(()=>e[8]||(e[8]=[u("新增")])),_:1})])]),operation:l(()=>[t(N,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:l(r=>[t(V,{type:"primary",onClick:B=>T(r.row)},{default:l(()=>e[9]||(e[9]=[u("修改")])),_:2},1032,["onClick"]),t(V,{type:"primary",onClick:B=>w(r.row)},{default:l(()=>e[10]||(e[10]=[u("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"]),t(U,{modelValue:o.userVisible,"onUpdate:modelValue":e[7]||(e[7]=r=>o.userVisible=r),title:o.title,width:"50%","destroy-on-close":"",center:""},{footer:l(()=>[k("span",Y,[t(n,{onClick:e[5]||(e[5]=r=>o.userVisible=!1)},{default:l(()=>e[11]||(e[11]=[u("取消")])),_:1}),t(n,{type:"primary",onClick:e[6]||(e[6]=r=>C(y.value))},{default:l(()=>e[12]||(e[12]=[u(" 确定 ")])),_:1})])]),default:l(()=>[t(I,{ref_key:"ruleFormRef",ref:y,model:o.form,rules:o.rules,"label-width":"120px",class:"demo-ruleForm"},{default:l(()=>[t(c,{gutter:20},{default:l(()=>[t(m,{span:12},{default:l(()=>[t(s,{label:"参数名称",prop:"configName"},{default:l(()=>[t(p,{modelValue:o.form.configName,"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.configName=r),placeholder:"请输入参数名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{span:12},{default:l(()=>[t(s,{label:"参数键名",prop:"configKey"},{default:l(()=>[t(p,{modelValue:o.form.configKey,"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.configKey=r),placeholder:"请输入参数键名"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,{gutter:20},{default:l(()=>[t(m,{span:12},{default:l(()=>[t(s,{label:"参数键值",prop:"configValue"},{default:l(()=>[t(p,{modelValue:o.form.configValue,"onUpdate:modelValue":e[2]||(e[2]=r=>o.form.configValue=r),placeholder:"请输入参数键值"},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{span:12},{default:l(()=>[t(s,{label:"系统内置",prop:"configType"},{default:l(()=>[t(z,{class:"w100",dictCode:"sys_yes_no",modelValue:o.form.configType,"onUpdate:modelValue":e[3]||(e[3]=r=>o.form.configType=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,{gutter:20},{default:l(()=>[t(m,{span:24},{default:l(()=>[t(s,{label:"备注",prop:"remark"},{default:l(()=>[t(p,{modelValue:o.form.remark,"onUpdate:modelValue":e[4]||(e[4]=r=>o.form.remark=r),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}}),ze=q(Z,[["__file","D:/work/public/admin-tempalte-base/src/views/system/config/index.vue"]]);export{ze as default};
