System.register(["./vue-legacy.Bl-PfySD.js","./@vue-legacy.CwdyZYS1.js"],(function(e,t){"use strict";var n,o,a,r,i,l,u,c,s;return{setters:[null,e=>{n=e.d,o=e.r,a=e.w,r=e.b,i=e.n,l=e.e,u=e.s,c=e.f,s=e.h}],execute:function(){var t=Object.defineProperty,d=Object.getOwnPropertySymbols,v=Object.prototype.hasOwnProperty,f=Object.prototype.propertyIsEnumerable,p=(e,n,o)=>n in e?t(e,n,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[n]=o,g=(e,t)=>{for(var n in t||(t={}))v.call(t,n)&&p(e,n,t[n]);if(d)for(var n of d(t))f.call(t,n)&&p(e,n,t[n]);return e};function y(...e){return t=>e.reduceRight(((e,t)=>t(e)),t)}function h(e){return function t(...n){return n.length>=e.length?e.apply(this,n):(...e)=>t.apply(this,[...n,...e])}}function m(e,t){return Object.keys(t).forEach((n=>{t[n]instanceof Object&&e[n]&&Object.assign(t[n],m(e[n],t[n]))})),g(g({},e),t)}function b(e){return Object.prototype.toString.call(e).includes("Object")}function w(e){return"function"==typeof e}const j={type:"cancelation",msg:"operation is manually canceled"};function O(e){let t=!1;const n=new Promise(((n,o)=>{e.then((e=>t?o(j):n(e))),e.catch(o)}));return Object.assign(n,{cancel(){t=!0}}),n}const S={initialIsRequired:"initial state is required",initialType:"initial state should be an object",initialContent:"initial state shouldn't be an empty object",handlerType:"handler should be an object or a function",handlersType:"all handlers should be a functions",selectorType:"selector should be a function",changeType:"provided value of changes should be an object",changeField:'it seams you want to change a field in the state which is not specified in the "initial" state',configIsRequired:"the configuration object is required",configType:"the configuration object should be an object",default:"An unknown error occurred",deprecation:"Deprecation warning!\n    You are using deprecated way of configuration.\n\n    Instead of using\n      monaco.config({ urls: { monacoBase: '...' } })\n    use\n      monaco.config({ paths: { vs: '...' } })\n  "},M=h((function(e,t){throw new Error(e[t]||S.default)}))(S),I={config:function(e){return e||M("configIsRequired"),b(e)||M("configType"),e.urls?(console.warn(S.deprecation),{paths:{vs:e.urls.monacoBase}}):e},changes:function(e,t){return b(t)||M("changeType"),Object.keys(t).some((t=>{return n=e,o=t,!Object.prototype.hasOwnProperty.call(n,o);var n,o}))&&M("changeField"),t},selector:function(e){w(e)||M("selectorType")},handler:function(e){w(e)||b(e)||M("handlerType"),b(e)&&Object.values(e).some((e=>!w(e)))&&M("handlersType")},initial:function(e){var t;e||M("initialIsRequired"),b(e)||M("initialType"),t=e,0===Reflect.ownKeys(t).length&&M("initialContent")}};var P=Object.defineProperty,R=Object.getOwnPropertySymbols,V=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable,k=(e,t,n)=>t in e?P(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,C=(e,t)=>{for(var n in t||(t={}))V.call(t,n)&&k(e,n,t[n]);if(R)for(var n of R(t))T.call(t,n)&&k(e,n,t[n]);return e};function E(e,t){return w(t)?t(e.current):t}function L(e,t){return e.current=C(C({},e.current),t),t}function x(e,t,n){return w(t)?t(e.current):Object.keys(n).forEach((n=>{var o;return null==(o=t[n])?void 0:o.call(t,e.current[n])})),n}var q=Object.getOwnPropertySymbols,z=Object.prototype.hasOwnProperty,F=Object.prototype.propertyIsEnumerable;const[N,B]=function(e,t={}){I.initial(e),I.handler(t);const n={current:e},o=h(x)(n,t),a=h(L)(n),r=h(I.changes)(e),i=h(E)(n);return[function(e=(e=>e)){return I.selector(e),e(n.current)},function(e){y(o,a,r,i)(e)}]}({config:{paths:{vs:"https://cdn.jsdelivr.net/npm/monaco-editor@0.43.0/min/vs"}},isInitialized:!1,resolve:null,reject:null,monaco:null}),D=new Promise(((e,t)=>B({resolve:e,reject:t})));function $(e){return document.body.appendChild(e)}function A(e){const t=N((({config:e,reject:t})=>({config:e,reject:t}))),n=function(e){const t=document.createElement("script");return e&&(t.src=e),t}(`${t.config.paths.vs}/loader.js`);return n.onload=()=>e(),n.onerror=t.reject,n}function U(){const e=N((({config:e,resolve:t,reject:n})=>({config:e,resolve:t,reject:n}))),t=window.require;t.config(e.config),t(["vs/editor/editor.main"],(t=>{W(t),e.resolve(t)}),(t=>{e.reject(t)}))}function W(e){N().monaco||B({monaco:e})}var K={config:function(e){const t=I.config(e),{monaco:n}=t,o=((e,t)=>{var n={};for(var o in e)z.call(e,o)&&t.indexOf(o)<0&&(n[o]=e[o]);if(null!=e&&q)for(var o of q(e))t.indexOf(o)<0&&F.call(e,o)&&(n[o]=e[o]);return n})(t,["monaco"]);B((e=>({config:m(e.config,o),monaco:n})))},init:function(){const e=N((({monaco:e,isInitialized:t,resolve:n})=>({monaco:e,isInitialized:t,resolve:n})));if(!e.isInitialized){if(B({isInitialized:!0}),e.monaco)return e.resolve(e.monaco),O(D);if(window.monaco&&window.monaco.editor)return W(window.monaco),e.resolve(window.monaco),O(D);y($,A)(U)}return O(D)},getMonacoInstance:function(){return N((({monaco:e})=>e))}};function Y(){}function G(e){return/^\d+$/.test(e)?`${e}px`:e}function H(e,t,n,o){return function(e,t){return e.editor.getModel(J(e,t))}(e,o)||function(e,t,n,o){return e.editor.createModel(t,n,o?J(e,o):void 0)}(e,t,n,o)}function J(e,t){return e.Uri.parse(t)}function Q(e){return"function"==typeof e?e():e}function X(e,t,n){const{monacoRef:i,unload:l,isLoadFailed:d}=function(){const e=u(K.getMonacoInstance()),t=o(!1);let n;return r((async()=>{try{if(e.value)return;n=K.init(),e.value=await n}catch(o){"cancelation"!==(null==o?void 0:o.type)?(t.value=!0,console.error("Monaco initialization error:",o)):t.value=!1}})),{monacoRef:e,unload:()=>null==n?void 0:n.cancel(),isLoadFailed:t}}(),v=u(null),f=u(null),p=c((()=>!!i.value&&!!v.value)),{getWrapperStyle:g,getContainerStyle:y,getLoadingStyle:h}=function(e,t){return{getWrapperStyle:c((()=>({display:"flex",position:"relative",textAlign:"initial",width:G(e.width),height:G(e.height)}))),getContainerStyle:c((()=>{const e={width:"100%"};return t.value||(e.display="none"),e})),getLoadingStyle:c((()=>({display:"flex",height:"100%",width:"100%",justifyContent:"center",alignItems:"center"})))}}({width:e.width,height:e.height},p);function m(e){return function(...t){p.value&&e.apply(this,t)}}return a((()=>e.theme),m((e=>{var t;return null==(t=i.value)?void 0:t.editor.setTheme(e)}))),a((()=>e.options),(e=>{var t;return null==(t=v.value)?void 0:t.updateOptions(e)}),{deep:!0}),{render:()=>{var o,a,r;return s("section",{style:g.value},[!p.value&&s("div",{style:h.value},d.value?t.slots.failure?Q(null==(o=t.slots)?void 0:o.failure):"load failed":(null==(a=t.slots)?void 0:a.loading)?Q(null==(r=t.slots)?void 0:r.loading):"loading..."),s("div",{ref:f,key:n,style:y.value,class:e.className})])},monacoRef:i,containerRef:f,editorRef:v,unload:l,whenMonacoIsReady:m}}const Z={defaultValue:{type:String},defaultLanguage:{type:String},defaultPath:{type:String},value:{type:String,value:""},language:{type:String,default:"javascript"},path:{type:String,default:""},theme:{type:String,default:"light"},line:{type:Number},options:{type:Object,default:()=>({})},overrideServices:{type:Object},saveViewState:{type:Boolean,default:!0},keepCurrentModel:{type:Boolean,default:!1},width:{type:[Number,String],default:"100%"},height:{type:[Number,String],default:"100%"},className:{type:String}};var _=Object.defineProperty,ee=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable,oe=(e,t,n)=>t in e?_(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;const ae=new Map;e("M",n({name:"MonacoEditor",props:Z,emits:["update:value","beforeMount","mount","change","validate"],slots:Object,setup(e,t){const{emit:n}=t,{render:u,containerRef:c,editorRef:s,monacoRef:d,unload:v,whenMonacoIsReady:f}=X(e,t,"vue-monaco-editor"),{disposeValidator:p}=function(e,t,n){const r=o(Y),l=a((()=>[t,n]),(()=>{if(t.value&&n.value){i((()=>l()));const o=t.value.editor.onDidChangeMarkers((o=>{var a,r;const i=null==(r=null==(a=n.value)?void 0:a.getModel())?void 0:r.uri;if(i&&o.find((e=>e.path===i.path))){const n=t.value.editor.getModelMarkers({resource:i});e("validate",n)}}));r.value=()=>null==o?void 0:o.dispose()}}));return{disposeValidator:r}}(n,d,s),g=o(!1);a((()=>e.path),f(((t,n)=>{var o,a,r;const i=H(d.value,e.defaultValue||e.value||"",e.defaultLanguage||e.language||"",e.path||e.defaultPath||"");i!==(null==(o=s.value)?void 0:o.getModel())&&(e.saveViewState&&ae.set(n,s.value.saveViewState()),null==(a=s.value)||a.setModel(i),e.saveViewState&&(null==(r=s.value)||r.restoreViewState(ae.get(t))))}))),a((()=>e.value),f((e=>{s.value&&void 0!==e&&(s.value.getOption(d.value.editor.EditorOption.readOnly)?s.value.setValue(e):e!==s.value.getValue()&&(g.value=!0,s.value.executeEdits("",[{range:s.value.getModel().getFullModelRange(),text:e,forceMoveMarkers:!0}]),s.value.pushUndoStop(),g.value=!1))}))),a((()=>e.language),f((e=>{var t,n;const o=null==(t=s.value)?void 0:t.getModel();o&&e&&(null==(n=d.value)||n.editor.setModelLanguage(o,e))}))),a((()=>e.line),f((e=>{var t;void 0!==e&&(null==(t=s.value)||t.revealLine(e))})));const y=()=>{var t,o,a;if(!c.value||!d.value||s.value)return;n("beforeMount",d.value);const r=e.path||e.defaultPath,i=H(d.value,e.value||e.defaultValue||"",e.language||e.defaultLanguage||"",r||"");if(s.value=null==(t=d.value)?void 0:t.editor.create(c.value,((e,t)=>{for(var n in t||(t={}))te.call(t,n)&&oe(e,n,t[n]);if(ee)for(var n of ee(t))ne.call(t,n)&&oe(e,n,t[n]);return e})({model:i,theme:e.theme,automaticLayout:!0,autoIndent:"brackets",formatOnPaste:!0,formatOnType:!0},e.options),e.overrideServices),null==(o=s.value)||o.onDidChangeModelContent((e=>{if(!g.value){const t=s.value.getValue();n("update:value",t),n("change",t,e)}})),e.saveViewState){const e=ae.get(r);e&&s.value.restoreViewState(e)}void 0!==e.line&&(null==(a=s.value)||a.revealLine(e.line)),n("mount",s.value,d.value)};return r((()=>{const e=a((()=>d.value),(t=>{c.value&&t&&(i((()=>e())),y())}),{immediate:!0})})),l((()=>{var t;null==(t=p.value)||t.call(p),s.value?function(){var t,n;e.keepCurrentModel&&(e.saveViewState?ae.set(e.path,s.value.saveViewState()):null==(t=s.value.getModel())||t.dispose()),null==(n=s.value)||n.dispose()}():v()})),u}}))}}}));
