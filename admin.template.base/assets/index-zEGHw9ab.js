import"./vue-Brcqt2vG.js";import{u as F,b as $}from"./vue-router-C7rU-wsU.js";import{p as B,f as K}from"./index-DI19To0g.js";import{_ as q}from"./index-BN6k9vM8.js";import{l as z,u as M,a as S,d as j,g as A}from"./config-C-plPL-e.js";import{a as g,c as E}from"./element-plus-DELVhQcd.js";import{d as L,A as d,j as t,r as y,b as H,i as n,o as P,c as G,k as l,a as v,q as u,u as J}from"./@vue-B5Rjg0tc.js";import"./axios-CdcsOsvR.js";import"./pinia-6dDT7uVM.js";import"./vue-demi-CP2SMu8c.js";import"./js-cookie-Cz0CWeBA.js";import"./@vueuse-q0Sksrg4.js";import"./vue-i18n-oCxI6G6S.js";import"./@intlify-D_0T6EgR.js";/* empty css                    */import"./dayjs-CuLmuTop.js";import"./element-easy-print-DJ-KPX5f.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-CGqamrhd.js";import"./element-easy-form-Cpih-KE2.js";import"./vuedraggable-9s6OmZnz.js";import"./@vue-monaco-BfCDpgCA.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-CMMVBHN7.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";const O={class:"commonBoxmp"},Q={class:"jcb aic w100"},W={class:"dialog-footer"},De=L({__name:"index",setup(X){F(),$();const{parseTime:Y,addDateRange:Z,getDict:k}=K(),o=d({form:{},title:"",rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"参数主键",prop:"configId",visible:!0},{label:"参数名称",prop:"configName",visible:!0},{label:"参数键名",prop:"configKey",visible:!0},{label:"参数键值",prop:"configValue",visible:!0},{label:"系统内置",prop:"configType",visible:!0,render:({row:a})=>t(q,{values:a.configType,dataType:"primary",options:b.sys_yes_no},null)},{label:"备注",visible:!0,prop:"remark"},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1});d({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),d({pageNum:1,pageSize:10,deptId:void 0});const C=async a=>{a&&(await a.validate(),o.form.configId!=null?M(o.form).then(e=>{g.success("修改成功"),o.userVisible=!1,f()}):S(o.form).then(e=>{g.success("新增成功"),o.userVisible=!1,f()}))},x=a=>{const e=a.configId;E.confirm('是否确认删除编号为"'+e+'"的数据项？').then(function(){return j(e)}).then(()=>{g.success("删除成功"),f()}).catch(function(){})},w=a=>{const e=a.configId;A(e).then(i=>{o.title="修改岗位",o.form=i.data,o.userVisible=!0})},T=()=>{o.form={},o.title="添加岗位",o.userVisible=!0},_=y(),f=()=>{_.value.getList()};let b=d({sys_yes_no:[]});const V=y();return H(async()=>{b.sys_yes_no=await k("sys_yes_no")}),(a,e)=>{const i=n("el-button"),N=n("el-table-column"),R=n("TableV2"),p=n("el-input"),s=n("el-form-item"),m=n("el-col"),c=n("el-row"),I=n("el-form"),U=n("el-dialog");return P(),G("div",O,[t(R,{class:"flex1",ref_key:"tableV2Ref",ref:_,apiFunction:J(z),selection:"",columns:o.columnData},{tableHeader:l(()=>[v("div",Q,[t(i,{type:"primary",onClick:T},{default:l(()=>e[8]||(e[8]=[u("新增")])),_:1})])]),operation:l(()=>[t(N,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:l(r=>[t(i,{type:"text",onClick:D=>w(r.row)},{default:l(()=>e[9]||(e[9]=[u("修改")])),_:2},1032,["onClick"]),t(i,{type:"text",onClick:D=>x(r.row)},{default:l(()=>e[10]||(e[10]=[u("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"]),t(U,{modelValue:o.userVisible,"onUpdate:modelValue":e[7]||(e[7]=r=>o.userVisible=r),title:o.title,width:"50%","destroy-on-close":"",center:""},{footer:l(()=>[v("span",W,[t(i,{onClick:e[5]||(e[5]=r=>o.userVisible=!1)},{default:l(()=>e[11]||(e[11]=[u("取消")])),_:1}),t(i,{type:"primary",onClick:e[6]||(e[6]=r=>C(V.value))},{default:l(()=>e[12]||(e[12]=[u(" 确定 ")])),_:1})])]),default:l(()=>[t(I,{ref_key:"ruleFormRef",ref:V,model:o.form,rules:o.rules,"label-width":"120px",class:"demo-ruleForm"},{default:l(()=>[t(c,{gutter:20},{default:l(()=>[t(m,{span:12},{default:l(()=>[t(s,{label:"参数名称",prop:"configName"},{default:l(()=>[t(p,{modelValue:o.form.configName,"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.configName=r),placeholder:"请输入参数名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{span:12},{default:l(()=>[t(s,{label:"参数键名",prop:"configKey"},{default:l(()=>[t(p,{modelValue:o.form.configKey,"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.configKey=r),placeholder:"请输入参数键名"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,{gutter:20},{default:l(()=>[t(m,{span:12},{default:l(()=>[t(s,{label:"参数键值",prop:"configValue"},{default:l(()=>[t(p,{modelValue:o.form.configValue,"onUpdate:modelValue":e[2]||(e[2]=r=>o.form.configValue=r),placeholder:"请输入参数键值"},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{span:12},{default:l(()=>[t(s,{label:"系统内置",prop:"configType"},{default:l(()=>[t(B,{class:"w100",dictCode:"sys_yes_no",modelValue:o.form.configType,"onUpdate:modelValue":e[3]||(e[3]=r=>o.form.configType=r)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(c,{gutter:20},{default:l(()=>[t(m,{span:24},{default:l(()=>[t(s,{label:"备注",prop:"remark"},{default:l(()=>[t(p,{modelValue:o.form.remark,"onUpdate:modelValue":e[4]||(e[4]=r=>o.form.remark=r),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{De as default};
