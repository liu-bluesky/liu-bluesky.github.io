import"./vue-BOAnm8BJ.js";import{u as q,a as w}from"./vue-router-DgaeXL21.js";import{_ as D}from"./index-D8uVrJWJ.js";import{h as R,f as S}from"./index-CxwxT6J_.js";import{d as C,A as n,j as e,s as f,r as z,b as B,i,o as p,c as d,u as g,k as t,a as F,q as l,v as r,x as v,m as I}from"./@vue-C7kBaxf_.js";import"./axios-CdcsOsvR.js";import"./vuex-fAqGcTDK.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-D3uKt2uU.js";import"./vue-i18n-CbYyLErm.js";import"./@intlify-D_0T6EgR.js";import"./@vueuse-C3s7uLKR.js";import"./element-plus-DCyP7bP4.js";import"./lodash-es-CiJSjksT.js";import"./@element-plus-CaqvGD6o.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-CuLmuTop.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";/* empty css                    */import"./element-easy-print-4c_yq0aR.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-DIkZKdRf.js";import"./element-easy-form-CEkbENOi.js";import"./vuedraggable-DF9qvgpV.js";import"./pinia-BsMBDaf_.js";import"./vue-demi-Zo4Nq4nd.js";import"./@vue-monaco-CNmGcFBZ.js";import"./uuid-CQkTLCs1.js";function L(_){return R.request({url:"/monitor/logininfor/list",method:"get",params:_})}const M={class:"commonBoxmp"},j={key:0},J={key:1},O={class:"dialog-footer"},Ne=C({__name:"index",setup(_){q(),w();const{parseTime:y,addDateRange:P,getDict:V,selectDictLabel:U}=S(),o=n({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"访问编号",prop:"infoId",visible:!0},{label:"用户名称",prop:"userName",visible:!0},{label:"登录地址",prop:"ipaddr",visible:!0},{label:"操作地址",prop:"loginLocation",visible:!0},{label:"浏览器",prop:"browser",visible:!0},{label:"操作系统",visible:!0,prop:"os"},{label:"登录状态",prop:"status",render:({row:u})=>e(D,{values:u.status,dataType:"primary",options:c.sys_common_status},null),visible:!0},{label:"操作信息",prop:"msg",visible:!0},{label:"登录日期",prop:"loginTime",visible:!0}],loading:!1,ids:[]});n({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),n(JSON.parse(JSON.stringify({pageNum:1,pageSize:10}))),f(!0),f(!0),f("");let c=n({sys_common_status:[]});return z(),B(async()=>{c.sys_common_status=await V("sys_common_status")}),(u,m)=>{const h=i("TableV2"),a=i("el-form-item"),s=i("el-col"),N=i("el-row"),x=i("el-form"),T=i("el-button"),k=i("el-dialog");return p(),d("div",M,[e(h,{class:"flex1",ref:"tableV2Ref",apiFunction:g(L),selection:"",columns:o.columnData},null,8,["apiFunction","columns"]),e(k,{modelValue:o.userVisible,"onUpdate:modelValue":m[1]||(m[1]=b=>o.userVisible=b),title:"操作日志详细",width:"50%","destroy-on-close":"",center:""},{footer:t(()=>[F("span",O,[e(T,{onClick:m[0]||(m[0]=b=>o.userVisible=!1)},{default:t(()=>m[2]||(m[2]=[l("取消")])),_:1})])]),default:t(()=>[e(x,{ref:"form",model:o.form,"label-width":"100px",size:"mini"},{default:t(()=>[e(N,null,{default:t(()=>[e(s,{span:12},{default:t(()=>[e(a,{label:"操作模块："},{default:t(()=>[l(r(o.form.title)+" / "+r(u.typeFormat(o.form)),1)]),_:1}),e(a,{label:"登录信息："},{default:t(()=>[l(r(o.form.operName)+" / "+r(o.form.operIp)+" / "+r(o.form.operLocation),1)]),_:1})]),_:1}),e(s,{span:12},{default:t(()=>[e(a,{label:"请求地址："},{default:t(()=>[l(r(o.form.operUrl),1)]),_:1}),e(a,{label:"请求方式："},{default:t(()=>[l(r(o.form.requestMethod),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[e(a,{label:"操作方法："},{default:t(()=>[l(r(o.form.method),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[e(a,{label:"请求参数："},{default:t(()=>[l(r(o.form.operParam),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[e(a,{label:"返回参数："},{default:t(()=>[l(r(o.form.jsonResult),1)]),_:1})]),_:1}),e(s,{span:6},{default:t(()=>[e(a,{label:"操作状态："},{default:t(()=>[o.form.status===0?(p(),d("div",j,"正常")):o.form.status===1?(p(),d("div",J,"失败")):v("",!0)]),_:1})]),_:1}),e(s,{span:8},{default:t(()=>[e(a,{label:"消耗时间："},{default:t(()=>[l(r(o.form.costTime)+"毫秒",1)]),_:1})]),_:1}),e(s,{span:10},{default:t(()=>[e(a,{label:"操作时间："},{default:t(()=>[l(r(g(y)(o.form.operTime)),1)]),_:1})]),_:1}),e(s,{span:24},{default:t(()=>[o.form.status===1?(p(),I(a,{key:0,label:"异常信息："},{default:t(()=>[l(r(o.form.errorMsg),1)]),_:1})):v("",!0)]),_:1})]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});export{Ne as default};
