System.register(["./vue-legacy.DZW26p5p.js","./user-legacy.CGXD7fyw.js","./index-legacy.g-6wOtEQ.js","./config-legacy.eoY3lr6q.js","./vue-i18n-legacy.DQtF4IMh.js","./element-plus-legacy.DEXlAKjv.js","./@vue-legacy.BCONSmQk.js"],(function(e,l){"use strict";var t,a,s,o,r,d,p,n,u,m,c,i,g,h,y,b,v,I,w,f,N,V,A,_,E;return{setters:[null,e=>{t=e.b,a=e.c,s=e.d,o=e.a},e=>{r=e.e,d=e.q},e=>{p=e.b},e=>{n=e.u},e=>{u=e.a},e=>{m=e.d,c=e.s,i=e.r,g=e.A,h=e.w,y=e.i,b=e.o,v=e.m,I=e.k,w=e.a,f=e.j,N=e.q,V=e.c,A=e.l,_=e.F,E=e.u}],execute:function(){e("_",m({__name:"addOrEdit",props:{modelValue:{type:Boolean,defalut:!1},id:{type:String,defalut:""}},emits:["update:modelValue","update"],setup(e,{emit:l}){const{t:m}=n(),O=l,P=c(!1),k=c(!1),j=i(),x=async()=>{try{const e=await j.value.validate();D.id?t(e).then((e=>{u.success(m("操作成功")),J(),O("update")})):a(e).then((e=>{u.success(m("操作成功")),J(),O("update")}))}catch(e){console.log("error :>> ",e)}},q=g({deptOptions:[],postOptions:[],roleOptions:[],initPassword:""}),C=i({schema:[{label:"用户昵称",prop:"nickName",colAttrs:{span:12},componentName:"ElInput",attrs:{placeholder:"请输入名字"},rules:[{required:!0,message:"不能为空",trigger:"change"}]},{label:"归属部门",prop:"deptId",colAttrs:{span:12},componentName:"ElDatePicker",attrs:{placeholder:"请选择"},rules:[{required:!1,message:"不能为空",trigger:"change"}]},{label:"手机号码",prop:"phonenumber",colAttrs:{span:12},componentName:"ElInput",rules:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}],attrs:{type:"number",placeholder:"请选择"}},{label:"邮箱",prop:"email",colAttrs:{span:12},componentName:"ElInput",rules:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],attrs:{type:"number",placeholder:"请选择"}},{label:"用户名称",prop:"userName",colAttrs:{span:12},rules:[{required:!0,message:"不能为空",trigger:"change"}],componentName:"ElInput",hidden:{matchPattern:"&&",dataSelect:[],type:"function",value:!1,dataJs:(e,l)=>null!=l.userId},attrs:{placeholder:"请输入"}},{label:"用户密码",prop:"password",colAttrs:{span:12},rules:[{required:!0,message:"用户密码不能为空",trigger:"blur"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],componentName:"ElInput",hidden:{matchPattern:"&&",dataSelect:[],type:"function",value:!1,dataJs:(e,l)=>null!=l.userId},attrs:{maxlength:"20",placeholder:"请输入",showPassword:!0}},{label:"性别",prop:"sex",colAttrs:{span:12},componentName:"selectDict",attrs:{dictCode:"sys_user_sex",placeholder:"请选择",showPassword:!0}},{label:"状态",prop:"status",colAttrs:{span:12},componentName:"selectDict",attrs:{dictCode:"sys_normal_disable",placeholder:"请选择",showPassword:!0}},{label:"岗位",prop:"postIds",colAttrs:{span:12},componentName:"ElInput",attrs:{}},{label:"角色",prop:"roleIds",colAttrs:{span:12},componentName:"ElInput",attrs:{}},{label:"备注",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"textarea"},rules:[],prop:"remark",componentName:"ElInput",colAttrs:{span:24}}],rowAttrs:{gutter:20,justify:"start",align:"middle"},model:{}});let D=e;const S=()=>{s().then((e=>{q.deptOptions=e.data}))};h((()=>D.modelValue),(e=>{P.value=e,D.id&&e?(p("sys.user.initPassword").then((e=>{q.initPassword=e.msg})),o(D.id).then((e=>{C.value.model=e.data,q.postOptions=e.posts,q.roleOptions=e.roles,C.value.password||(C.value.model.password=q.initPassword),C.value.model.areaType=d(e.data.areaType)})),S()):!D.id&&e&&(S(),C.value.model={sex:"1"})}),{immediate:!0});const J=()=>{O("update:modelValue",!1)};return h((()=>P.value),(e=>{e||J()})),(l,t)=>{const a=y("el-cascader"),s=y("el-option"),o=y("el-select"),d=y("ElementEasyForm"),p=y("el-button"),n=y("ComDialog");return b(),v(n,{modelValue:P.value,"onUpdate:modelValue":t[3]||(t[3]=e=>P.value=e),width:E(r),title:e.id?"编辑":"新增"},{footer:I((()=>[w("div",null,[f(p,{size:"large",onClick:J},{default:I((()=>t[4]||(t[4]=[N("取消")]))),_:1}),f(p,{size:"large",loading:k.value,type:"primary",onClick:x},{default:I((()=>t[5]||(t[5]=[N("保存")]))),_:1},8,["loading"])])])),default:I((()=>[f(d,{ref_key:"comFromRef",ref:j,formJson:C.value},{deptId:I((()=>[f(a,{class:"w100",options:q.deptOptions,modelValue:C.value.model.deptId,"onUpdate:modelValue":t[0]||(t[0]=e=>C.value.model.deptId=e),props:{value:"id",emitPath:!1,checkStrictly:!0},clearable:""},null,8,["options","modelValue"])])),postIds:I((()=>[f(o,{class:"w100",modelValue:C.value.model.postIds,"onUpdate:modelValue":t[1]||(t[1]=e=>C.value.model.postIds=e),multiple:"",placeholder:"请选择岗位"},{default:I((()=>[(b(!0),V(_,null,A(q.postOptions,(e=>(b(),v(s,{key:e.postId,label:e.postName,value:e.postId,disabled:1==e.status},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),roleIds:I((()=>[f(o,{class:"w100",modelValue:C.value.model.roleIds,"onUpdate:modelValue":t[2]||(t[2]=e=>C.value.model.roleIds=e),multiple:"",placeholder:"请选择岗位"},{default:I((()=>[(b(!0),V(_,null,A(q.roleOptions,(e=>(b(),v(s,{key:e.roleId,label:e.roleName,value:e.roleId,disabled:1==e.status},null,8,["label","value","disabled"])))),128))])),_:1},8,["modelValue"])])),_:1},8,["formJson"])])),_:1},8,["modelValue","width","title"])}}}))}}}));
