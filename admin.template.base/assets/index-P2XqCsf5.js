import"./vue-Brcqt2vG.js";import{u as v,b as x}from"./vue-router-C7rU-wsU.js";import{h as u,f as N}from"./index-DI19To0g.js";import{c as q,a as k}from"./element-plus-DELVhQcd.js";import{d as S,A as n,i as l,o as D,c as I,j as s,k as p,q as y,u as z}from"./@vue-B5Rjg0tc.js";import"./axios-CdcsOsvR.js";import"./pinia-6dDT7uVM.js";import"./vue-demi-CP2SMu8c.js";import"./js-cookie-Cz0CWeBA.js";import"./@vueuse-q0Sksrg4.js";import"./vue-i18n-oCxI6G6S.js";import"./@intlify-D_0T6EgR.js";/* empty css                    */import"./dayjs-CuLmuTop.js";import"./element-easy-print-DJ-KPX5f.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-CGqamrhd.js";import"./element-easy-form-Cpih-KE2.js";import"./vuedraggable-9s6OmZnz.js";import"./@vue-monaco-BfCDpgCA.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-CMMVBHN7.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";function m(o){return u.request({url:"/monitor/online/list",method:"get",params:o})}function C(o){return u.request({url:"/monitor/online/"+o,method:"delete"})}const R={class:"commonBoxmp"},ue=S({__name:"index",setup(o){v(),x();const{parseTime:T,addDateRange:c,getDict:F,selectDictLabel:L}=N(),t=n({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"会话编号",prop:"tokenId",visible:!0},{label:"登录名称",prop:"userName",visible:!0},{label:"部门名称",prop:"deptName",visible:!0},{label:"主机",visible:!0,prop:"ipaddr"},{label:"登录地点",visible:!0,prop:"loginLocation"},{label:"浏览器",visible:!0,prop:"browser"},{label:"操作系统",prop:"os",visible:!0},{label:"登录日期",prop:"loginTime",visible:!0}],loading:!1}),i=n({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),a=n(JSON.parse(JSON.stringify({pageNum:1,pageSize:10}))),g=e=>{const r=e.tokenId;q.confirm('是否确认强退名称为"'+e.userName+'"的用户？').then(function(){return C(r)}).then(()=>{k.success("删除成功"),d()}).catch(function(){})},d=()=>{t.loading=!0,a.pageNum=i.currentPage,a.pageSize=i.pageSize,m(c(a,t.dateRange)).then(e=>{t.tableData=e.rows,i.total=e.total,t.loading=!1})};return(e,r)=>{const b=l("el-button"),f=l("el-table-column"),_=l("TableV2");return D(),I("div",R,[s(_,{class:"flex1",ref:"tableV2Ref",isInit:!0,apiFunction:z(m),selection:"",columns:t.columnData},{operation:p(()=>[s(f,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:p(h=>[s(b,{type:"text",onClick:w=>g(h.row)},{default:p(()=>r[0]||(r[0]=[y("强退")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"])])}}});export{ue as default};
