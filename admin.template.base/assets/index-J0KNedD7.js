import"./vue-BOAnm8BJ.js";import{g as h}from"./cache-Bbt-oJFW.js";import{i as y}from"./echarts-BTjDaFZS.js";import{d as E,A as g,r as p,b as C,i as f,o as a,c as o,j as d,k as u,a as e,u as s,v as i,x as n,n as x}from"./@vue-C7kBaxf_.js";import"./axios-CdcsOsvR.js";import"./index--ykiENj3.js";import"./vue-router-DgaeXL21.js";import"./vuex-fAqGcTDK.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-D3uKt2uU.js";import"./vue-i18n-CbYyLErm.js";import"./@intlify-D_0T6EgR.js";import"./@vueuse-C3s7uLKR.js";import"./element-plus-DCyP7bP4.js";import"./lodash-es-CiJSjksT.js";import"./@element-plus-CaqvGD6o.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-CuLmuTop.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";/* empty css                    */import"./element-easy-print-4c_yq0aR.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-DIkZKdRf.js";import"./element-easy-form-CmLGE_Qm.js";import"./vuedraggable-DF9qvgpV.js";import"./pinia-BsMBDaf_.js";import"./vue-demi-Zo4Nq4nd.js";import"./@vue-monaco-CNmGcFBZ.js";import"./uuid-CQkTLCs1.js";import"./tslib-BDyQ-Jie.js";import"./zrender-C3MfsgR7.js";const D={class:"app-container"},A={class:"el-table el-table--enable-row-hover el-table--medium"},B={cellspacing:"0",style:{width:"100%"}},O={class:"el-table__cell is-leaf"},w={key:0,class:"cell"},S={class:"el-table__cell is-leaf"},N={key:0,class:"cell"},V={class:"el-table__cell is-leaf"},z={key:0,class:"cell"},R={class:"el-table__cell is-leaf"},T={key:0,class:"cell"},j={class:"el-table__cell is-leaf"},q={key:0,class:"cell"},I={class:"el-table__cell is-leaf"},K={key:0,class:"cell"},L={class:"el-table__cell is-leaf"},M={key:0,class:"cell"},P={class:"el-table__cell is-leaf"},U={key:0,class:"cell"},G={class:"el-table__cell is-leaf"},H={key:0,class:"cell"},J={class:"el-table__cell is-leaf"},Q={key:0,class:"cell"},W={class:"el-table__cell is-leaf"},X={key:0,class:"cell"},Y={class:"el-table__cell is-leaf"},Z={key:0,class:"cell"},$={class:"el-table el-table--enable-row-hover el-table--medium"},ee={class:"el-table el-table--enable-row-hover el-table--medium"},je=E({__name:"index",props:{msg:{type:String,required:!0}},setup(le){const r=g({tableData:[],commandstatsOpt:null,usedmemoryOpt:null});let t=p({}),b=p(""),v=p("");const F=()=>{h().then(_=>{t.value=_.data,x(()=>{r.commandstatsOpt=y(b.value,"macarons"),r.commandstatsOpt.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"命令",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:_.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),r.usedmemoryOpt=y(v.value,"macarons"),r.usedmemoryOpt.setOption({tooltip:{formatter:"{b} <br/>{a} : "+t.value.info.used_memory_human},series:[{name:"峰值",type:"gauge",min:0,max:1e3,detail:{formatter:t.value.info.used_memory_human},data:[{value:parseFloat(t.value.info.used_memory_human),name:"内存消耗"}]}]})})})};return C(()=>{F()}),(_,l)=>{const c=f("el-card"),m=f("el-col"),k=f("el-row");return a(),o("div",D,[d(k,null,{default:u(()=>[d(m,{span:24,class:"card-box"},{default:u(()=>[d(c,null,{header:u(()=>l[0]||(l[0]=[e("div",null,[e("span",null," 基本信息")],-1)])),default:u(()=>[e("div",A,[e("table",B,[e("tbody",null,[e("tr",null,[l[1]||(l[1]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Redis版本")],-1)),e("td",O,[s(t).info?(a(),o("div",w,i(s(t).info.redis_version),1)):n("",!0)]),l[2]||(l[2]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"运行模式")],-1)),e("td",S,[s(t).info?(a(),o("div",N,i(s(t).info.redis_mode=="standalone"?"单机":"集群"),1)):n("",!0)]),l[3]||(l[3]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"端口")],-1)),e("td",V,[s(t).info?(a(),o("div",z,i(s(t).info.tcp_port),1)):n("",!0)]),l[4]||(l[4]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"客户端数")],-1)),e("td",R,[s(t).info?(a(),o("div",T,i(s(t).info.connected_clients),1)):n("",!0)])]),e("tr",null,[l[5]||(l[5]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"运行时间(天)")],-1)),e("td",j,[s(t).info?(a(),o("div",q,i(s(t).info.uptime_in_days),1)):n("",!0)]),l[6]||(l[6]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"使用内存")],-1)),e("td",I,[s(t).info?(a(),o("div",K,i(s(t).info.used_memory_human),1)):n("",!0)]),l[7]||(l[7]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"使用CPU")],-1)),e("td",L,[s(t).info?(a(),o("div",M,i(parseFloat(s(t).info.used_cpu_user_children).toFixed(2)),1)):n("",!0)]),l[8]||(l[8]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"内存配置")],-1)),e("td",P,[s(t).info?(a(),o("div",U,i(s(t).info.maxmemory_human),1)):n("",!0)])]),e("tr",null,[l[9]||(l[9]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"AOF是否开启")],-1)),e("td",G,[s(t).info?(a(),o("div",H,i(s(t).info.aof_enabled=="0"?"否":"是"),1)):n("",!0)]),l[10]||(l[10]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"RDB是否成功")],-1)),e("td",J,[s(t).info?(a(),o("div",Q,i(s(t).info.rdb_last_bgsave_status),1)):n("",!0)]),l[11]||(l[11]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Key数量")],-1)),e("td",W,[s(t).dbSize?(a(),o("div",X,i(s(t).dbSize),1)):n("",!0)]),l[12]||(l[12]=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"网络入口/出口")],-1)),e("td",Y,[s(t).info?(a(),o("div",Z,i(s(t).info.instantaneous_input_kbps)+"kps/"+i(s(t).info.instantaneous_output_kbps)+"kps ",1)):n("",!0)])])])])])]),_:1})]),_:1}),d(m,{span:12,class:"card-box"},{default:u(()=>[d(c,null,{header:u(()=>l[13]||(l[13]=[e("div",null,[e("span",null," 命令统计")],-1)])),default:u(()=>[e("div",$,[e("div",{ref_key:"commandstats",ref:b,style:{height:"420px"}},null,512)])]),_:1})]),_:1}),d(m,{span:12,class:"card-box"},{default:u(()=>[d(c,null,{header:u(()=>l[14]||(l[14]=[e("div",null,[e("span",null," 内存信息")],-1)])),default:u(()=>[e("div",ee,[e("div",{ref_key:"usedmemory",ref:v,style:{height:"420px"}},null,512)])]),_:1})]),_:1})]),_:1})])}}});export{je as default};
