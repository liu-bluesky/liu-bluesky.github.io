System.register(["./vue-legacy-BwqaE-UV.js","./user-legacy-Bu4Wo84D.js","./index-legacy-DkHySrN9.js","./config-legacy-CbVnJYqM.js","./vue-i18n-legacy-I02oa_8H.js","./element-plus-legacy-wKlBsICL.js","./@vue-legacy-DnKxfRmB.js","./axios-legacy-DOQcXz3s.js","./vue-router-legacy-D0FjC2WZ.js","./pinia-legacy-CPPRg8p1.js","./vue-demi-legacy-DUElpuNi.js","./@vueuse-legacy-B8BAriPD.js","./js-cookie-legacy-C5MzxRlA.js","./animate.css-legacy-z9SqsCt_.js","./dayjs-legacy-BEK7-do9.js","./element-easy-print-legacy-P4zBGZwT.js","./mockjs-legacy-B6RXmGMp.js","./lodash-legacy-BjC4_Cl0.js","./vue3-draggable-resizable-yn-legacy-DjejEIa5.js","./element-easy-form-legacy-DUWnY3xV.js","./vuedraggable-legacy-COMv7T1_.js","./@vue-monaco-legacy-CjDR2hhE.js","./uuid-legacy-BdquiBiX.js","./@element-plus-legacy-Cp3RqB0e.js","./lodash-es-legacy-C-A1-n4T.js","./@popperjs-legacy-C1grkGOr.js","./@ctrl-legacy-9okVt3ht.js","./async-validator-legacy-CHN_Z1xY.js","./memoize-one-legacy-BdKv67M6.js","./normalize-wheel-es-legacy-k5qzjKXA.js","./@floating-ui-legacy-CYdxb3Dm.js","./@intlify-legacy-DKMS_M3y.js"],function(e,l){"use strict";var a,t,s,o,r,n,u,d,p,c,i,m,g,y,v,h,j,b,I,f,w,N,V,_,k,E;return{setters:[null,e=>{a=e.b,t=e.c,s=e.d,o=e.a},e=>{r=e.t,n=e.w,u=e.a},e=>{d=e.b},e=>{p=e.u},e=>{c=e.a},e=>{i=e.d,m=e.s,g=e.r,y=e.B,v=e.w,h=e.j,j=e.o,b=e.q,I=e.l,f=e.a,w=e.k,N=e.v,V=e.c,_=e.m,k=e.F,E=e.u},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=i({__name:"addOrEdit",props:{modelValue:{type:Boolean,defalut:!1},id:{type:String,defalut:""}},emits:["update:modelValue","update"],setup(e,{emit:l}){const{t:u}=p(),i=l,A=m(!1),O=m(!1),P=g(),x=async()=>{try{const e=await P.value.validate();z.id?a(e).then(e=>{c.success(u("操作成功")),J(),i("update")}):t(e).then(e=>{c.success(u("操作成功")),J(),i("update")})}catch(e){console.log("error :>> ",e)}},q=y({deptOptions:[],postOptions:[],roleOptions:[],initPassword:""}),C=g({schema:[{label:"用户昵称",prop:"nickName",colAttrs:{span:12},componentName:"ElInput",attrs:{placeholder:"请输入名字"},rules:[{required:!0,message:"不能为空",trigger:"change"}]},{label:"归属部门",prop:"deptId",colAttrs:{span:12},componentName:"ElDatePicker",attrs:{placeholder:"请选择"},rules:[{required:!1,message:"不能为空",trigger:"change"}]},{label:"手机号码",prop:"phonenumber",colAttrs:{span:12},componentName:"ElInput",rules:[{pattern:/^1[3|4|5|6|7|8|9][0-9]\d{8}$/,message:"请输入正确的手机号码",trigger:"blur"}],attrs:{type:"number",placeholder:"请选择"}},{label:"邮箱",prop:"email",colAttrs:{span:12},componentName:"ElInput",rules:[{type:"email",message:"请输入正确的邮箱地址",trigger:["blur","change"]}],attrs:{type:"number",placeholder:"请选择"}},{label:"用户名称",prop:"userName",colAttrs:{span:12},rules:[{required:!0,message:"不能为空",trigger:"change"}],componentName:"ElInput",hidden:{matchPattern:"&&",dataSelect:[],type:"function",value:!1,dataJs:(e,l)=>null!=l.userId},attrs:{placeholder:"请输入"}},{label:"用户密码",prop:"password",colAttrs:{span:12},rules:[{required:!0,message:"用户密码不能为空",trigger:"blur"},{min:5,max:20,message:"用户密码长度必须介于 5 和 20 之间",trigger:"blur"}],componentName:"ElInput",hidden:{matchPattern:"&&",dataSelect:[],type:"function",value:!1,dataJs:(e,l)=>null!=l.userId},attrs:{maxlength:"20",placeholder:"请输入",showPassword:!0}},{label:"性别",prop:"sex",colAttrs:{span:12},componentName:"selectDict",attrs:{dictCode:"sys_user_sex",placeholder:"请选择",showPassword:!0}},{label:"状态",prop:"status",colAttrs:{span:12},componentName:"selectDict",attrs:{dictCode:"sys_normal_disable",placeholder:"请选择",showPassword:!0}},{label:"岗位",prop:"postIds",colAttrs:{span:12},componentName:"ElInput",attrs:{}},{label:"角色",prop:"roleIds",colAttrs:{span:12},componentName:"ElInput",attrs:{}},{label:"备注",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"textarea"},rules:[],prop:"remark",componentName:"ElInput",colAttrs:{span:24}}],rowAttrs:{gutter:20,justify:"start",align:"middle"},model:{}});let z=e;const D=()=>{s().then(e=>{q.deptOptions=e.data})};v(()=>z.modelValue,e=>{A.value=e,z.id&&e?(d("sys.user.initPassword").then(e=>{q.initPassword=e.msg}),o(z.id).then(e=>{C.value.model=e.data,q.postOptions=e.posts,q.roleOptions=e.roles,C.value.password||(C.value.model.password=q.initPassword),C.value.model.areaType=n(e.data.areaType)}),D()):!z.id&&e&&(D(),C.value.model={sex:"1"})},{immediate:!0});const J=()=>{i("update:modelValue",!1)};return v(()=>A.value,e=>{e||J()}),(l,a)=>{const t=h("el-cascader"),s=h("el-option"),o=h("el-select"),n=h("ElementEasyForm"),u=h("el-button"),d=h("ComDialog");return j(),b(d,{modelValue:A.value,"onUpdate:modelValue":a[3]||(a[3]=e=>A.value=e),width:E(r),title:e.id?"编辑":"新增"},{footer:I(()=>[f("div",null,[w(u,{size:"large",onClick:J},{default:I(()=>a[4]||(a[4]=[N("取消")])),_:1}),w(u,{size:"large",loading:O.value,type:"primary",onClick:x},{default:I(()=>a[5]||(a[5]=[N("保存")])),_:1},8,["loading"])])]),default:I(()=>[w(n,{ref_key:"comFromRef",ref:P,formJson:C.value},{deptId:I(()=>[w(t,{class:"w100",options:q.deptOptions,modelValue:C.value.model.deptId,"onUpdate:modelValue":a[0]||(a[0]=e=>C.value.model.deptId=e),props:{value:"id",emitPath:!1,checkStrictly:!0},clearable:""},null,8,["options","modelValue"])]),postIds:I(()=>[w(o,{class:"w100",modelValue:C.value.model.postIds,"onUpdate:modelValue":a[1]||(a[1]=e=>C.value.model.postIds=e),multiple:"",placeholder:"请选择岗位"},{default:I(()=>[(j(!0),V(k,null,_(q.postOptions,e=>(j(),b(s,{key:e.postId,label:e.postName,value:e.postId,disabled:1==e.status},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),roleIds:I(()=>[w(o,{class:"w100",modelValue:C.value.model.roleIds,"onUpdate:modelValue":a[2]||(a[2]=e=>C.value.model.roleIds=e),multiple:"",placeholder:"请选择岗位"},{default:I(()=>[(j(!0),V(k,null,_(q.roleOptions,e=>(j(),b(s,{key:e.roleId,label:e.roleName,value:e.roleId,disabled:1==e.status},null,8,["label","value","disabled"]))),128))]),_:1},8,["modelValue"])]),_:1},8,["formJson"])]),_:1},8,["modelValue","width","title"])}}});e("default",u(l,[["__file","D:/work/public/admin-tempalte-base/src/views/system/user/component/addOrEdit.vue"]]))}}});
