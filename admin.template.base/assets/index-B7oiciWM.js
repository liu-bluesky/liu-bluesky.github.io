import"./vue-DSB24BnW.js";import{u as D,a as M}from"./vue-router-fyTrc5Va.js";import{_ as S}from"./index-CR9DtD1f.js";import{h as d,f as U}from"./index-M3ohjitV.js";import{a as y,c as F}from"./element-plus-Cdmo8XhC.js";import{d as B,r as c,v as _,f as $,h as s,c as z,i as t,j as o,u as j,o as K,a as C,m as u}from"./@vue-CmN6Z9lx.js";import"./ace-builds-DiBK84cm.js";import"./vuex-CLkfaZ6_.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-Jw_v0k3c.js";import"./@vueuse-D81fD1wx.js";import"./nprogress-C9k5oxGd.js";import"./axios-BNZxzx77.js";import"./@element-plus-DGCe4rM-.js";/* empty css                    */import"./dayjs-BhI1duP8.js";import"./element-easy-form-Dkjp9jsl.js";import"./mockjs-72j0mDZC.js";import"./vuedraggable-C0hio2tq.js";import"./sortablejs-CUXm9Ppf.js";import"./vue3-ace-editor-YX3apWn1.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./uuid-CQkTLCs1.js";import"./vue-i18n-BPZ2p18e.js";import"./@intlify-fCQYzvHO.js";import"./element-easy-print-B_PXcQ-3.js";import"./vue3-draggable-resizable-yn-Cm3Ut1tY.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";function L(a){return d.request({url:"/system/post/list",method:"get",params:a})}function W(a){return d.request({url:"/system/post/"+a,method:"get"})}function H(a){return d.request({url:"/system/post",method:"post",data:a})}function G(a){return d.request({url:"/system/post",method:"put",data:a})}function J(a){return d.request({url:"/system/post/"+a,method:"delete"})}const Q={class:"commonBoxmp"},X={class:"jcb aic w100"},Y={class:"dialog-footer"},De=B({__name:"index",setup(a){D(),M();const{parseTime:Z,addDateRange:ee,getDict:v}=U();c(!0),c({rowAttrs:{gutter:20,justify:"start",align:"middle"},schema:[{label:"岗位名称",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"text"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"postName",componentName:"ElInput",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"岗位编码",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"text"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"postCode",componentName:"ElInput",colAttrs:{span:12,offset:0,push:0,pull:0}},{prop:"status",label:"状态",type:"COMPONENT",attrs:{dictCode:"sys_normal_disable"},formItemAttrs:{},rules:[],componentName:"selectDict",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"岗位顺序",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",step:1,precision:0,defaultValue:0,"step-strictly":!1,controls:!0,"controls-position":"right"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"KarenRichardWilliams",componentName:"ElInputNumber",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"备注",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"textarea"},rules:[],prop:"remark",componentName:"ElInput",colAttrs:{span:24}}],model:{postName:"",postCode:"",KarenRichardWilliams:0,remark:""},formAttrs:{"label-position":"left",inline:!0,"label-width":80,"hide-required-asterisk":!1,"require-asterisk-position":"left","inline-message":!1,"status-icon":!1,"scroll-to-error":!1}});const e=_({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"岗位编号",prop:"postId",visible:!0},{label:"岗位编码",prop:"postCode",visible:!0},{label:"岗位名称",visible:!0,prop:"postName"},{label:"岗位排序",visible:!0,prop:"postSort"},{label:"状态",prop:"status",visible:!0,render:({row:n})=>t(S,{values:n.status,dataType:"primary",options:V.sys_normal_disable},null)},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1});_({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),_({pageNum:1,pageSize:10,deptId:void 0});const k=async n=>{n&&(await n.validate(),e.form.postId!=null?G(e.form).then(l=>{y.success("修改成功"),e.userVisible=!1,f()}):H(e.form).then(l=>{y.success("新增成功"),e.userVisible=!1,f()}))},x=n=>{const l=n.postId;F.confirm('是否确认删除编号为"'+l+'"的数据项？').then(function(){return J(l)}).then(()=>{y.success("删除成功"),f()}).catch(function(){})},I=n=>{const l=n.postId;W(l).then(p=>{e.title="修改岗位",e.form=p.data,e.userVisible=!0})},w=()=>{e.form={},e.title="添加岗位",e.userVisible=!0},h=c(),f=()=>{h.value.getList()};let V=_({sys_normal_disable:[]});const N=c();return $(async()=>{V.sys_normal_disable=await v("sys_normal_disable"),f()}),(n,l)=>{const p=s("el-button"),q=s("el-table-column"),A=s("TableV2"),b=s("el-input"),i=s("el-form-item"),m=s("el-col"),g=s("el-row"),T=s("selectDict"),E=s("el-input-number"),P=s("el-form"),O=s("el-dialog");return K(),z("div",Q,[t(A,{class:"flex1",apiFunction:j(L),ref_key:"tableV2Ref",ref:h,columns:e.columnData},{tableHeader:o(()=>[C("div",X,[t(p,{type:"primary",onClick:w},{default:o(()=>[u("新增")]),_:1})])]),operation:o(()=>[t(q,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:o(r=>[t(p,{type:"text",onClick:R=>I(r.row)},{default:o(()=>[u("修改")]),_:2},1032,["onClick"]),t(p,{type:"text",onClick:R=>x(r.row)},{default:o(()=>[u("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"]),t(O,{modelValue:e.userVisible,"onUpdate:modelValue":l[7]||(l[7]=r=>e.userVisible=r),title:e.title,width:"50%","destroy-on-close":"",center:""},{footer:o(()=>[C("span",Y,[t(p,{onClick:l[5]||(l[5]=r=>e.userVisible=!1)},{default:o(()=>[u("取消")]),_:1}),t(p,{type:"primary",onClick:l[6]||(l[6]=r=>k(N.value))},{default:o(()=>[u(" 确定 ")]),_:1})])]),default:o(()=>[t(P,{ref_key:"ruleFormRef",ref:N,model:e.form,rules:e.rules,"label-width":"120px",class:"demo-ruleForm"},{default:o(()=>[t(g,{gutter:20},{default:o(()=>[t(m,{span:12},{default:o(()=>[t(i,{label:"岗位名称",prop:"postName"},{default:o(()=>[t(b,{modelValue:e.form.postName,"onUpdate:modelValue":l[0]||(l[0]=r=>e.form.postName=r),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{span:12},{default:o(()=>[t(i,{label:"岗位编码",prop:"postCode"},{default:o(()=>[t(b,{modelValue:e.form.postCode,"onUpdate:modelValue":l[1]||(l[1]=r=>e.form.postCode=r),placeholder:"请输入编码名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(g,{gutter:20},{default:o(()=>[t(m,{span:12},{default:o(()=>[t(i,{label:"状态"},{default:o(()=>[t(T,{class:"w100",dictCode:"sys_normal_disable",modelValue:e.form.status,"onUpdate:modelValue":l[2]||(l[2]=r=>e.form.status=r)},null,8,["modelValue"])]),_:1})]),_:1}),t(m,{span:12},{default:o(()=>[t(i,{label:"岗位顺序",prop:"postSort"},{default:o(()=>[t(E,{modelValue:e.form.postSort,"onUpdate:modelValue":l[3]||(l[3]=r=>e.form.postSort=r),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),t(g,{gutter:20},{default:o(()=>[t(m,{span:24},{default:o(()=>[t(i,{label:"备注",prop:"remark"},{default:o(()=>[t(b,{modelValue:e.form.remark,"onUpdate:modelValue":l[4]||(l[4]=r=>e.form.remark=r),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{De as default};
