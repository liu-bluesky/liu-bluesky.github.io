System.register(["./vue-legacy.DZW26p5p.js","./vue-router-legacy.Cz3YiCMX.js","./@vue-legacy.BCONSmQk.js","./menu-legacy.6nsTK9MF.js","./index-legacy.B2-pYJ2-.js","./index-legacy.g-6wOtEQ.js","./element-plus-legacy.DEXlAKjv.js","./axios-legacy.CE4zynPM.js","./vuex-legacy.CSh48PTj.js","./js-cookie-legacy.DG9X5X6R.js","./path-browserify-legacy.BCzbrAs3.js","./vue-i18n-legacy.DQtF4IMh.js","./@intlify-legacy.DJuV4Wxr.js","./@vueuse-legacy.D7mz2btt.js","./@element-plus-legacy.epV9JVIf.js","./animate.css-legacy.BfzBEcwY.js","./dayjs-legacy.B22LMrWi.js","./element-easy-print-legacy.DzzlPb-a.js","./mockjs-legacy.s1yaCGEC.js","./vue3-draggable-resizable-yn-legacy.yEOFu1DX.js","./element-easy-form-legacy.CLPi4GdV.js","./vuedraggable-legacy.CPzUG2c5.js","./pinia-legacy.DTZxeyQO.js","./vue-demi-legacy.COfoBOWO.js","./@vue-monaco-legacy.CXSbudBD.js","./uuid-legacy.2vyezZly.js","./lodash-es-legacy.Btr3ptxK.js","./@popperjs-legacy.CtArNnFZ.js","./@ctrl-legacy.BxnR6uzU.js","./async-validator-legacy.DmN8ALBH.js","./memoize-one-legacy.BFFEFRop.js","./normalize-wheel-es-legacy.BGuSd53u.js","./@floating-ui-legacy.-y5top_l.js"],(function(e,l){"use strict";var a,t,o,u,n,s,d,r,i,m,c,p,f,y,_,b,g,h,V,v,j,k,C,w,x,z,I,T,U,F,N,S,q,D;return{setters:[null,e=>{a=e.u,t=e.a},e=>{o=e.d,u=e.A,n=e.s,s=e.w,d=e.i,r=e.o,i=e.c,m=e.j,c=e.k,p=e.K,f=e.m,y=e.z,_=e.F,b=e.l,g=e.u,h=e.r,V=e.b,v=e.au,j=e.a,k=e.q,C=e.X,w=e.x,x=e.v},e=>{z=e.u,I=e.a,T=e.d,U=e.g,F=e.l},e=>{N=e._},e=>{S=e.f},e=>{q=e.a,D=e.c},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=o({__name:"index",props:{modelValue:{type:String,required:!0}},emits:["update:modelValue"],setup(e,{emit:l}){const a=u({icons:[],icon:""});let t=n(!1);const o=()=>{t.value=!0},h=l,V=e;s((()=>V.modelValue),(e=>{a.icon=e}),{deep:!0,immediate:!0});const v=()=>{h("update:modelValue",""),t.value=!1};return(e,l)=>{const u=d("el-icon"),n=d("Search"),s=d("el-input"),V=d("el-scrollbar"),j=d("el-popover");return r(),i("div",null,[m(j,{placement:"bottom",width:400,visible:g(t)},{reference:c((()=>[m(s,{modelValue:a.icon,"onUpdate:modelValue":l[0]||(l[0]=e=>a.icon=e),onClick:p(o,["stop"]),onClear:v,placeholder:"点击选择图标"},{prefix:c((()=>[a.icon?(r(),f(u,{key:0,class:"llt-icon-size"},{default:c((()=>[(r(),f(y(a.icon),{class:"llt-icon-size"}))])),_:1})):(r(),f(u,{key:1,class:"llt-icon-size"},{default:c((()=>[m(n)])),_:1}))])),_:1},8,["modelValue"])])),default:c((()=>[m(V,{height:"400px"},{default:c((()=>[(r(!0),i(_,null,b(e.$store.state.icons,(e=>(r(),f(u,{key:e,onClick:l=>{h("update:modelValue",e)},class:"llt-icon-size"},{default:c((()=>[(r(),f(y(e)))])),_:2},1032,["onClick"])))),128))])),_:1})])),_:1},8,["visible"])])}}}),P={class:"commonBoxmp"},O={class:"jcb aic w100"},R={class:"aic"},A={class:"aic"},K={class:"aic"},M={class:"aic"},B={class:"aic"},H={class:"aic"},Q={class:"aic"},X={class:"aic"},$={class:"dialog-footer"};e("default",o({__name:"index",setup(e){a(),t();const{parseTime:o,addDateRange:n,handleTree:s,getDict:p}=S();let y=u({sys_normal_disable:[],sys_show_hide:[]});const E=u({menuOptions:[],title:"",form:{},userVisible:!1,rules:{menuName:[{required:!0,message:"菜单名称不能为空",trigger:"blur"}],orderNum:[{required:!0,message:"菜单顺序不能为空",trigger:"blur"}],path:[{required:!0,message:"路由地址不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"菜单名称",prop:"menuName",visible:!0},{label:"图标",prop:"icon",visible:!0},{label:"排序",prop:"orderNum",visible:!0},{label:"权限标识",prop:"perms",visible:!0},{label:"组件路径",visible:!0,prop:"component"},{label:"状态",prop:"status",visible:!0,render:({row:e})=>m(N,{values:e.status,dataType:"primary",options:y.sys_job_status},null)},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1}),G=u({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),J=u({pageNum:1,pageSize:10,deptId:void 0}),L=e=>{Z(),E.userVisible=!0,E.title="添加菜单",E.form={},null!=e&&e.menuId?E.form.parentId=e.menuId:E.form.parentId=0},W=e=>{},Y=()=>{E.loading=!0,J.pageNum=G.currentPage,J.pageSize=G.pageSize,F(n(J,E.dateRange)).then((e=>{E.tableData=s(e.data,"menuId"),E.loading=!1}))},Z=()=>{F().then((e=>{E.menuOptions=[];const l={menuId:0,menuName:"主类目",children:[]};l.children=s(e.data,"menuId"),E.menuOptions.push(l)}))},ee=h();return V((async()=>{Y(),Z(),y.sys_job_status=await p("sys_job_status"),y.sys_normal_disable=await p("sys_normal_disable"),y.sys_show_hide=await p("sys_show_hide")})),(e,a)=>{const t=d("el-button"),o=d("el-table-column"),u=d("TableV2"),n=d("el-cascader"),s=d("el-form-item"),p=d("el-col"),h=d("el-row"),V=d("el-radio"),F=d("el-radio-group"),N=d("el-input"),S=d("el-input-number"),G=d("QuestionFilled"),J=d("el-icon"),Z=d("el-tooltip"),le=d("el-form"),ae=d("el-dialog"),te=v("hasPermi");return r(),i("div",P,[m(u,{selection:"",onSelectionChange:e.handleselectionChange,columns:E.columnData,dataKey:"data",data:E.tableData,tableOptions:{rowKey:"menuId",border:!0,treeProps:{children:"children",hasChildren:"hasChildren"}}},{tableHeader:c((()=>[j("div",O,[m(t,{type:"primary",onClick:L},{default:c((()=>a[16]||(a[16]=[k("添加菜单")]))),_:1})])])),operation:c((()=>[m(o,{label:"操作",align:"center","class-name":"small-padding fixed-width"},{default:c((e=>[C((r(),f(t,{size:"mini",type:"text",onClick:l=>(e=>{const l=e.menuId;U(l).then((e=>{E.title="修改菜单",E.form=e.data,E.userVisible=!0}))})(e.row)},{default:c((()=>a[17]||(a[17]=[k("修改")]))),_:2},1032,["onClick"])),[[te,["system:menu:edit"]]]),C((r(),f(t,{size:"mini",type:"text",onClick:l=>L(e.row)},{default:c((()=>a[18]||(a[18]=[k("新增")]))),_:2},1032,["onClick"])),[[te,["system:menu:add"]]]),C((r(),f(t,{size:"mini",type:"text",onClick:l=>(e=>{const l=e.menuId;D.confirm('是否确认删除用户编号为"'+l+'"的数据项？').then((function(){return T(l)})).then((()=>{q.success("删除成功"),Y()})).catch((function(){}))})(e.row)},{default:c((()=>a[19]||(a[19]=[k("删除")]))),_:2},1032,["onClick"])),[[te,["system:menu:remove"]]])])),_:1})])),_:1},8,["onSelectionChange","columns","data"]),m(ae,{modelValue:E.userVisible,"onUpdate:modelValue":a[15]||(a[15]=e=>E.userVisible=e),title:E.title,width:"50%","destroy-on-close":"",center:""},{footer:c((()=>[j("span",$,[m(t,{onClick:a[13]||(a[13]=e=>E.userVisible=!1)},{default:c((()=>a[35]||(a[35]=[k("取消")]))),_:1}),m(t,{type:"primary",onClick:a[14]||(a[14]=e=>(async e=>{e&&(await e.validate(),null!=E.form.menuId?(console.log("state.form :>> ",E.form),E.form.parentId=null==E.form.parentId?0:E.form.parentId,z(E.form).then((e=>{q.success("修改成功"),E.userVisible=!1,Y()}))):I(E.form).then((e=>{q.success("新增成功"),E.userVisible=!1,Y()})))})(ee.value))},{default:c((()=>a[36]||(a[36]=[k(" 确定 ")]))),_:1})])])),default:c((()=>[m(le,{ref_key:"ruleFormRef",ref:ee,model:E.form,rules:E.rules,"label-width":"120px",class:"demo-ruleForm"},{default:c((()=>[m(h,{gutter:20},{default:c((()=>[m(p,{span:24},{default:c((()=>[m(s,{label:"上级菜单",prop:"parentId"},{default:c((()=>[m(n,{options:E.menuOptions,modelValue:E.form.parentId,"onUpdate:modelValue":a[0]||(a[0]=e=>E.form.parentId=e),class:"w100",props:{checkStrictly:!0,emitPath:!1,value:"menuId",label:"menuName"},clearable:"",onChange:W},null,8,["options","modelValue"])])),_:1})])),_:1})])),_:1}),m(h,{gutter:20},{default:c((()=>[m(p,{span:24},{default:c((()=>[m(s,{label:"菜单类型",prop:"menuType"},{default:c((()=>[m(F,{modelValue:E.form.menuType,"onUpdate:modelValue":a[1]||(a[1]=e=>E.form.menuType=e)},{default:c((()=>[m(V,{label:"M"},{default:c((()=>a[20]||(a[20]=[k("目录")]))),_:1}),m(V,{label:"C"},{default:c((()=>a[21]||(a[21]=[k("菜单")]))),_:1}),m(V,{label:"F"},{default:c((()=>a[22]||(a[22]=[k("按钮")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})])),_:1}),"F"!=E.form.menuType?(r(),f(p,{key:0,span:24},{default:c((()=>[m(s,{label:"菜单图标"},{default:c((()=>[m(l,{class:"w100",modelValue:E.form.icon,"onUpdate:modelValue":a[2]||(a[2]=e=>E.form.icon=e)},null,8,["modelValue"])])),_:1})])),_:1})):w("",!0),m(p,{span:12},{default:c((()=>[m(s,{label:"菜单名称",prop:"menuName"},{default:c((()=>[m(N,{modelValue:E.form.menuName,"onUpdate:modelValue":a[3]||(a[3]=e=>E.form.menuName=e),placeholder:"请输入菜单名称"},null,8,["modelValue"])])),_:1})])),_:1}),m(p,{span:12},{default:c((()=>[m(s,{label:"显示排序",prop:"orderNum"},{default:c((()=>[m(S,{modelValue:E.form.orderNum,"onUpdate:modelValue":a[4]||(a[4]=e=>E.form.orderNum=e),"controls-position":"right",min:0},null,8,["modelValue"])])),_:1})])),_:1}),"F"!=E.form.menuType?(r(),f(p,{key:1,span:12},{default:c((()=>[m(s,{prop:"isFrame"},{label:c((()=>[j("div",R,[m(Z,{content:"选择是外链则路由地址需要以`http(s)://`开头",placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[23]||(a[23]=k(" 是否外链 "))])])),default:c((()=>[m(F,{modelValue:E.form.isFrame,"onUpdate:modelValue":a[5]||(a[5]=e=>E.form.isFrame=e)},{default:c((()=>[m(V,{label:"0"},{default:c((()=>a[24]||(a[24]=[k("是")]))),_:1}),m(V,{label:"1"},{default:c((()=>a[25]||(a[25]=[k("否")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):w("",!0),"F"!=E.form.menuType?(r(),f(p,{key:2,span:12},{default:c((()=>[m(s,{prop:"path"},{label:c((()=>[j("div",A,[m(Z,{content:"访问的路由地址，如：`user`，如外网地址需内链访问则以`http(s)://`开头",placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[26]||(a[26]=k(" 路由地址 "))])])),default:c((()=>[m(N,{modelValue:E.form.path,"onUpdate:modelValue":a[6]||(a[6]=e=>E.form.path=e),placeholder:"请输入路由地址"},null,8,["modelValue"])])),_:1})])),_:1})):w("",!0),"C"==E.form.menuType?(r(),f(p,{key:3,span:12},{default:c((()=>[m(s,{prop:"component"},{label:c((()=>[j("div",K,[m(Z,{content:"访问的组件路径，如：`system/user/index`，默认在`views`目录下",placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[27]||(a[27]=k(" 组件路径 "))])])),default:c((()=>[m(N,{modelValue:E.form.component,"onUpdate:modelValue":a[7]||(a[7]=e=>E.form.component=e),placeholder:"请输入组件路径"},null,8,["modelValue"])])),_:1})])),_:1})):w("",!0),"M"!=E.form.menuType?(r(),f(p,{key:4,span:12},{default:c((()=>[m(s,{prop:"perms"},{label:c((()=>[j("div",M,[m(Z,{content:"控制器中定义的权限字符，如：@PreAuthorize(`@ss.hasPermi('system:user:list')`)",placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[28]||(a[28]=k(" 权限字符 "))])])),default:c((()=>[m(N,{modelValue:E.form.perms,"onUpdate:modelValue":a[8]||(a[8]=e=>E.form.perms=e),placeholder:"请输入权限标识",maxlength:"100"},null,8,["modelValue"])])),_:1})])),_:1})):w("",!0),"C"==E.form.menuType?(r(),f(p,{key:5,span:12},{default:c((()=>[m(s,{prop:"query"},{label:c((()=>[j("div",B,[m(Z,{content:'访问路由的默认传递参数，如：`{"id": 1, "name": "ry"}`',placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[29]||(a[29]=k(" 路由参数 "))])])),default:c((()=>[m(N,{modelValue:E.form.query,"onUpdate:modelValue":a[9]||(a[9]=e=>E.form.query=e),placeholder:"请输入路由参数",maxlength:"255"},null,8,["modelValue"])])),_:1})])),_:1})):w("",!0),"C"==E.form.menuType?(r(),f(p,{key:6,span:12},{default:c((()=>[m(s,{prop:"isCache"},{label:c((()=>[j("div",H,[m(Z,{content:"选择是则会被`keep-alive`缓存，需要匹配组件的`name`和地址保持一致",placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[30]||(a[30]=k(" 是否缓存 "))])])),default:c((()=>[m(F,{modelValue:E.form.isCache,"onUpdate:modelValue":a[10]||(a[10]=e=>E.form.isCache=e)},{default:c((()=>[m(V,{label:"0"},{default:c((()=>a[31]||(a[31]=[k("缓存")]))),_:1}),m(V,{label:"1"},{default:c((()=>a[32]||(a[32]=[k("不缓存")]))),_:1})])),_:1},8,["modelValue"])])),_:1})])),_:1})):w("",!0),"F"!=E.form.menuType?(r(),f(p,{key:7,span:12},{default:c((()=>[m(s,{prop:"visible"},{label:c((()=>[j("div",Q,[m(Z,{content:"选择隐藏则路由将不会出现在侧边栏，但仍然可以访问",placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[33]||(a[33]=k(" 显示状态 "))])])),default:c((()=>[m(F,{modelValue:E.form.visible,"onUpdate:modelValue":a[11]||(a[11]=e=>E.form.visible=e)},{default:c((()=>[(r(!0),i(_,null,b(g(y).sys_show_hide,(e=>(r(),f(V,{key:e.value,label:e.value},{default:c((()=>[k(x(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):w("",!0),"F"!=E.form.menuType?(r(),f(p,{key:8,span:12},{default:c((()=>[m(s,{prop:"status"},{label:c((()=>[j("div",X,[m(Z,{content:"选择停用则路由将不会出现在侧边栏，也不能被访问",placement:"top"},{default:c((()=>[m(J,null,{default:c((()=>[m(G)])),_:1})])),_:1}),a[34]||(a[34]=k(" 菜单状态 "))])])),default:c((()=>[m(F,{modelValue:E.form.status,"onUpdate:modelValue":a[12]||(a[12]=e=>E.form.status=e)},{default:c((()=>[(r(!0),i(_,null,b(g(y).sys_normal_disable,(e=>(r(),f(V,{key:e.value,label:e.value},{default:c((()=>[k(x(e.label),1)])),_:2},1032,["label"])))),128))])),_:1},8,["modelValue"])])),_:1})])),_:1})):w("",!0)])),_:1},8,["model","rules"])])),_:1},8,["modelValue","title"])])}}}))}}}));
