import"./vue-BCJY8gBf.js";import{z as L,d as T,R as U,A as z,t as M,a as q}from"./index-DnKBT612.js";import{u as H}from"./vue-i18n-DkRB_xiH.js";import{a as y}from"./element-plus-BIk4sW6s.js";import{d as C,s as c,r as p,w as P,f as W,B as G,j as n,o as J,c as K,y as Q,k as o,l as i,L as X,a as f,u as v,F as Y,t as Z,v as g}from"./@vue-BwKUEgJD.js";import"./axios-DWt2DAqT.js";import"./vue-router-Bk-12vT2.js";import"./pinia-TB7j859w.js";import"./vue-demi-DP18qiWf.js";import"./@vueuse-BO9Bf6Jf.js";import"./js-cookie-C1NIBS1L.js";/* empty css                    */import"./dayjs-CpORZXld.js";import"./element-easy-print-DsNlMTPy.js";import"./mockjs-CpzBLoCE.js";import"./lodash-Ce2coQ-v.js";import"./vue3-draggable-resizable-yn-CG0QmAMT.js";import"./element-easy-form-CUlqWkgt.js";import"./vuedraggable-BjUjsGh2.js";import"./@vue-monaco-B0CNy8YX.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-D9bzjPyL.js";import"./lodash-es-D0ldFxdg.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-riLredlm.js";import"./async-validator-BxgltDpX.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-uXSQws5g.js";import"./@intlify-BnZ-SFqO.js";const $={class:"jcb aic w100"},ee=C({name:"selectRecipeCategory"}),te=C({...ee,props:{modelValue:{type:[String],defalut:""},placeholder:{type:String,required:!0,default:"请选择"},title:{type:String,default:"请选择"},multiple:{type:Boolean,default:!1},border:{type:Boolean,default:!1},pageInfo:{type:Object,default:null},options:{type:Object,default:()=>({label:"categoryName",value:"categoryId"})},filter:{type:Object,default:()=>({})}},emits:["update:modelValue"],setup(b,{emit:h}){const s=c(!1),r=p(""),V=h,l=b;H(),P(()=>l.modelValue,t=>{t&&L(t).then(e=>{r.value=e.data[l.options.label]})},{immediate:!0});const k=()=>{s.value=!1};p([]);const D=W(()=>Z(l.filter)),_=c(""),m=c(!1),w=p(),R=()=>{s.value=!0},j=G({height:0,columnData:T}),x=()=>{_.value="",m.value=!0},B=t=>{w.value.getList()},a=p([]),A=t=>{a.value=t,console.log("selection :>> ",a)},I=()=>{if(l.multiple)if(a.value.length==0){y.warning("请选择数据");return}else r.value=a.value.map(t=>t[l.options.label]).join(","),V("update:modelValue",a.value.map(t=>t[l.options.value]));else if(a.value.length==0){y.warning("请选择数据");return}else r.value=a.value[l.options.label],V("update:modelValue",a.value[l.options.value]);s.value=!1};return(t,e)=>{const N=n("ArrowDown"),O=n("el-icon"),S=n("el-input"),d=n("el-button"),E=n("TableV2"),F=n("ComDialog");return J(),K(Y,null,[Q(' @getParmas="getList" '),o(S,{placeholder:"请输入",modelValue:r.value,"onUpdate:modelValue":e[0]||(e[0]=u=>r.value=u),readonly:"",onClick:X(R,["stop"])},{suffix:i(()=>[o(O,null,{default:i(()=>[o(N)]),_:1})]),_:1},8,["modelValue"]),f("div",null,[o(F,{modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=u=>s.value=u),title:b.title,width:v(M)},{footer:i(()=>[f("div",null,[o(d,{size:"large",onClick:k},{default:i(()=>e[4]||(e[4]=[g("取消")])),_:1}),o(d,{size:"large",type:"primary",onClick:I},{default:i(()=>e[5]||(e[5]=[g("保存")])),_:1})])]),default:i(()=>[o(E,{ref_key:"tableV2Ref",ref:w,selectTypeMultiple:!1,selection:!0,clickSelectRow:"",tableOptions:{border:!0,height:400},apiFunction:v(U),filter:D.value,columns:j.columnData,onSelectionChange:A},{tableHeader:i(()=>[f("div",$,[o(d,{type:"primary",onClick:x},{default:i(()=>e[3]||(e[3]=[g("新增计量表")])),_:1})])]),_:1},8,["apiFunction","filter","columns"]),o(v(z),{modelValue:m.value,"onUpdate:modelValue":e[1]||(e[1]=u=>m.value=u),id:_.value,onUpdate:B},null,8,["modelValue","id"])]),_:1},8,["modelValue","title","width"])])],64)}}}),Ne=q(te,[["__file","D:/work/public/admin-tempalte-base/src/views/table/component/select.vue"]]);export{Ne as default};
