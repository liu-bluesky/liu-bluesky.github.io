import"./vue-BJVn-AwR.js";import{g as F}from"./cache-DY-Fp5Q6.js";import{i as b}from"./echarts-Dkb_i_rp.js";import{d as k,i as E,r as m,b as g,j as p,c as s,k as _,l as c,n as C,o as a,a as e,u as t,B as o,x as i}from"./@vue-BrpAZT_d.js";import"./axios-CdcsOsvR.js";import"./index-n33gOFYA.js";import"./vue-router-Cv1-78p4.js";import"./vuex-DVEKb2Tt.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-D3uKt2uU.js";import"./vue-i18n-DQ3J7jW3.js";import"./@intlify-fCQYzvHO.js";import"./@vueuse-DiyLgNKt.js";import"./element-easy-print-CdK2Drsd.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-ZzbVBzrL.js";import"./element-plus-DTmgdQLG.js";import"./lodash-es-CiJSjksT.js";import"./@element-plus-DmmG4Mq2.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./dayjs-CuLmuTop.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";import"./element-easy-form-i7waUTjU.js";import"./vuedraggable-DHJi63an.js";import"./sortablejs-C1wvN1Nu.js";import"./@vue-monaco-KaWeB-jO.js";import"./uuid-CQkTLCs1.js";import"./nprogress-C1nr5Arz.js";/* empty css                    */import"./tslib-BDyQ-Jie.js";import"./zrender-JdQgtl18.js";const x={class:"app-container"},D=e("div",null,[e("span",null," 基本信息")],-1),B={class:"el-table el-table--enable-row-hover el-table--medium"},A={cellspacing:"0",style:{width:"100%"}},O=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Redis版本")],-1),w={class:"el-table__cell is-leaf"},S={key:0,class:"cell"},N=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"运行模式")],-1),V={class:"el-table__cell is-leaf"},z={key:0,class:"cell"},R=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"端口")],-1),T={class:"el-table__cell is-leaf"},j={key:0,class:"cell"},q=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"客户端数")],-1),I={class:"el-table__cell is-leaf"},K={key:0,class:"cell"},L=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"运行时间(天)")],-1),M={class:"el-table__cell is-leaf"},P={key:0,class:"cell"},U=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"使用内存")],-1),G={class:"el-table__cell is-leaf"},H={key:0,class:"cell"},J=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"使用CPU")],-1),Q={class:"el-table__cell is-leaf"},W={key:0,class:"cell"},X=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"内存配置")],-1),Y={class:"el-table__cell is-leaf"},Z={key:0,class:"cell"},$=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"AOF是否开启")],-1),ee={class:"el-table__cell is-leaf"},le={key:0,class:"cell"},te=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"RDB是否成功")],-1),se={class:"el-table__cell is-leaf"},ae={key:0,class:"cell"},oe=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"Key数量")],-1),ie={class:"el-table__cell is-leaf"},ce={key:0,class:"cell"},_e=e("td",{class:"el-table__cell is-leaf"},[e("div",{class:"cell"},"网络入口/出口")],-1),ne={class:"el-table__cell is-leaf"},de={key:0,class:"cell"},ue=e("div",null,[e("span",null," 命令统计")],-1),re={class:"el-table el-table--enable-row-hover el-table--medium"},me=e("div",null,[e("span",null," 内存信息")],-1),pe={class:"el-table el-table--enable-row-hover el-table--medium"},Ze=k({__name:"index",props:{msg:{type:String,required:!0}},setup(fe){const n=E({tableData:[],commandstatsOpt:null,usedmemoryOpt:null});let l=m({}),f=m(""),h=m("");const v=()=>{F().then(d=>{l.value=d.data,C(()=>{n.commandstatsOpt=b(f.value,"macarons"),n.commandstatsOpt.setOption({tooltip:{trigger:"item",formatter:"{a} <br/>{b} : {c} ({d}%)"},series:[{name:"命令",type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:d.data.commandStats,animationEasing:"cubicInOut",animationDuration:1e3}]}),n.usedmemoryOpt=b(h.value,"macarons"),n.usedmemoryOpt.setOption({tooltip:{formatter:"{b} <br/>{a} : "+l.value.info.used_memory_human},series:[{name:"峰值",type:"gauge",min:0,max:1e3,detail:{formatter:l.value.info.used_memory_human},data:[{value:parseFloat(l.value.info.used_memory_human),name:"内存消耗"}]}]})})})};return g(()=>{v()}),(d,he)=>{const u=p("el-card"),r=p("el-col"),y=p("el-row");return a(),s("div",x,[_(y,null,{default:c(()=>[_(r,{span:24,class:"card-box"},{default:c(()=>[_(u,null,{header:c(()=>[D]),default:c(()=>[e("div",B,[e("table",A,[e("tbody",null,[e("tr",null,[O,e("td",w,[t(l).info?(a(),s("div",S,o(t(l).info.redis_version),1)):i("",!0)]),N,e("td",V,[t(l).info?(a(),s("div",z,o(t(l).info.redis_mode=="standalone"?"单机":"集群"),1)):i("",!0)]),R,e("td",T,[t(l).info?(a(),s("div",j,o(t(l).info.tcp_port),1)):i("",!0)]),q,e("td",I,[t(l).info?(a(),s("div",K,o(t(l).info.connected_clients),1)):i("",!0)])]),e("tr",null,[L,e("td",M,[t(l).info?(a(),s("div",P,o(t(l).info.uptime_in_days),1)):i("",!0)]),U,e("td",G,[t(l).info?(a(),s("div",H,o(t(l).info.used_memory_human),1)):i("",!0)]),J,e("td",Q,[t(l).info?(a(),s("div",W,o(parseFloat(t(l).info.used_cpu_user_children).toFixed(2)),1)):i("",!0)]),X,e("td",Y,[t(l).info?(a(),s("div",Z,o(t(l).info.maxmemory_human),1)):i("",!0)])]),e("tr",null,[$,e("td",ee,[t(l).info?(a(),s("div",le,o(t(l).info.aof_enabled=="0"?"否":"是"),1)):i("",!0)]),te,e("td",se,[t(l).info?(a(),s("div",ae,o(t(l).info.rdb_last_bgsave_status),1)):i("",!0)]),oe,e("td",ie,[t(l).dbSize?(a(),s("div",ce,o(t(l).dbSize),1)):i("",!0)]),_e,e("td",ne,[t(l).info?(a(),s("div",de,o(t(l).info.instantaneous_input_kbps)+"kps/"+o(t(l).info.instantaneous_output_kbps)+"kps ",1)):i("",!0)])])])])])]),_:1})]),_:1}),_(r,{span:12,class:"card-box"},{default:c(()=>[_(u,null,{header:c(()=>[ue]),default:c(()=>[e("div",re,[e("div",{ref_key:"commandstats",ref:f,style:{height:"420px"}},null,512)])]),_:1})]),_:1}),_(r,{span:12,class:"card-box"},{default:c(()=>[_(u,null,{header:c(()=>[me]),default:c(()=>[e("div",pe,[e("div",{ref_key:"usedmemory",ref:h,style:{height:"420px"}},null,512)])]),_:1})]),_:1})]),_:1})])}}});export{Ze as default};
