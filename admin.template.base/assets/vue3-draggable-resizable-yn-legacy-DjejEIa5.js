System.register(["./axios-legacy-DOQcXz3s.js","./vue-legacy-BwqaE-UV.js"],function(e,t){"use strict";var n,a,i;return{setters:[e=>{n=e.c,a=e.g},e=>{i=e.r}],execute:function(){var t=document.createElement("style");t.textContent=".vdr-container{position:absolute;border:1px solid transparent;box-sizing:border-box}.vdr-container.active{border-color:#000;border-style:dashed}.vdr-container.dragging{border-color:#000;border-style:solid}.vdr-handle{box-sizing:border-box;position:absolute;width:7px;height:7px;background:#f0f0f0;border:1px solid #333}.vdr-handle-tl{top:-4px;left:-4px;cursor:nw-resize}.vdr-handle-tm{top:-4px;left:50%;margin-left:-3px;cursor:n-resize}.vdr-handle-tr{top:-4px;right:-4px;cursor:ne-resize}.vdr-handle-ml{top:50%;margin-top:-3px;left:-4px;cursor:w-resize}.vdr-handle-mr{top:50%;margin-top:-3px;right:-4px;cursor:e-resize}.vdr-handle-bl{bottom:-4px;left:-4px;cursor:sw-resize}.vdr-handle-bm{bottom:-4px;left:50%;margin-left:-4px;cursor:s-resize}.vdr-handle-br{bottom:-4px;right:-4px;cursor:se-resize}\n",document.head.appendChild(t);var r,o,u,l=e("s",{}),s={},d={},c={};function h(){if(r)return c;r=1;var e=n&&n.__assign||function(){return e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};c.__esModule=!0,c.getReferenceLineMap=c.getId=c.filterHandles=c.removeEvent=c.addEvent=c.getElSize=c.IDENTITY=void 0;var t=f();function a(e){return function(t,n,a){t&&("string"==typeof n&&(n=[n]),n.forEach(function(n){return t[e](n,a,{passive:!1})}))}}return c.IDENTITY=Symbol("Vue3DraggableResizable"),c.getElSize=function(e){var t=window.getComputedStyle(e);return{width:parseFloat(t.getPropertyValue("width")),height:parseFloat(t.getPropertyValue("height"))}},c.addEvent=a("addEventListener"),c.removeEvent=a("removeEventListener"),c.filterHandles=function(e){if(e&&e.length>0){var n=[];return e.forEach(function(e){t.ALL_HANDLES.includes(e)&&!n.includes(e)&&n.push(e)}),n}return[]},c.getId=function(){return String(Math.random()).substr(2)+String(Date.now())},c.getReferenceLineMap=function(t,n,a){var i,r;if(t.disabled.value)return null;var o={row:[],col:[]},u=n.parentWidth,l=n.parentHeight;(i=o.row).push.apply(i,t.adsorbRows),(r=o.col).push.apply(r,t.adsorbCols),t.adsorbParent.value&&(o.row.push(0,l.value,l.value/2),o.col.push(0,u.value,u.value/2));var s=t.getPositionStore(a);return Object.values(s).forEach(function(e){var t=e.x,n=e.y,a=e.w,i=e.h;o.row.push(n,n+i,n+i/2),o.col.push(t,t+a,t+a/2)}),{row:o.row.reduce(function(t,n){var a;return e(e({},t),((a={})[n]={min:n-5,max:n+5,value:n},a))},{}),col:o.col.reduce(function(t,n){var a;return e(e({},t),((a={})[n]={min:n-5,max:n+5,value:n},a))},{})}},c}function f(){return u||(u=1,function(e){var t=n&&n.__assign||function(){return t=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},t.apply(this,arguments)},a=n&&n.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,u=r.length;o<u;o++,i++)a[i]=r[o];return a};e.__esModule=!0,e.ALL_HANDLES=void 0;var r=i,u=function(){if(o)return d;o=1;var e=n&&n.__assign||function(){return e=Object.assign||function(e){for(var t,n=1,a=arguments.length;n<a;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},e.apply(this,arguments)};d.__esModule=!0,d.watchProps=d.initResizeHandle=d.initDraggableContainer=d.initLimitSizeAndMethods=d.initParent=d.initState=d.useState=void 0;var t=i,a=h();function r(e){var n=t.ref(e);return[n,function(e){return n.value=e,e}]}d.useState=r,d.initState=function(e,n){var i=r(e.initW),o=i[0],u=i[1],l=r(e.initH),s=l[0],d=l[1],c=r(e.x),h=c[0],f=c[1],v=r(e.y),p=v[0],g=v[1],m=r(e.active),b=m[0],y=m[1],w=r(!1),x=w[0],z=w[1],M=r(!1),H=M[0],R=M[1],L=r(""),E=L[0],S=L[1],W=r(1/0),N=W[0],P=W[1],D=r(1/0),_=D[0],A=D[1],j=r(e.minW),C=j[0],T=j[1],O=r(e.minH),Y=O[0],B=O[1],$=r(e.parentScaleX),I=$[0],X=$[1],k=r(e.parentScaleY),V=k[0],K=k[1],F=r(e.triggerKey),U=F[0],q=F[1],G=t.computed(function(){return s.value/o.value});return t.watch(o,function(e){n("update:w",e)},{immediate:!0}),t.watch(s,function(e){n("update:h",e)},{immediate:!0}),t.watch(p,function(e){n("update:y",e)}),t.watch(h,function(e){n("update:x",e)}),t.watch(b,function(e,t){n("update:active",e),!t&&e?n("activated"):t&&!e&&n("deactivated")}),t.watch(function(){return e.active},function(e){y(e)}),t.watch(function(){return e.parentScaleX},function(){X(e.parentScaleX)}),t.watch(function(){return e.parentScaleY},function(){K(e.parentScaleY)}),t.watch(function(){return e.triggerKey},function(){q(e.triggerKey)}),{id:a.getId(),width:o,height:s,top:p,left:h,enable:b,dragging:x,resizing:H,resizingHandle:E,resizingMaxHeight:_,resizingMaxWidth:N,resizingMinWidth:C,resizingMinHeight:Y,aspectRatio:G,parentScaleX:I,parentScaleY:V,triggerKey:U,setEnable:y,setDragging:z,setResizing:R,setResizingHandle:S,setResizingMaxHeight:A,setResizingMaxWidth:P,setResizingMinWidth:T,setResizingMinHeight:B,$setWidth:function(e){return u(Math.floor(e))},$setHeight:function(e){return d(Math.floor(e))},$setTop:function(e){return g(Math.floor(e))},$setLeft:function(e){return f(Math.floor(e))}}},d.initParent=function(e){var n=t.ref(0),i=t.ref(0);return t.onMounted(function(){if(e.value&&e.value.parentElement){var t=a.getElSize(e.value.parentElement),r=t.width,o=t.height;n.value=r,i.value=o}}),{parentWidth:n,parentHeight:i}},d.initLimitSizeAndMethods=function(n,a,i){var r=i.width,o=i.height,u=i.left,l=i.top,s=i.resizingMaxWidth,d=i.resizingMaxHeight,c=i.resizingMinWidth,h=i.resizingMinHeight,f=i.$setWidth,v=i.$setHeight,p=i.$setTop,g=i.$setLeft,m=a.parentWidth,b=a.parentHeight,y={minWidth:t.computed(function(){return c.value}),minHeight:t.computed(function(){return h.value}),maxWidth:t.computed(function(){var e=1/0;return n.parent&&(e=Math.min(m.value,s.value)),e}),maxHeight:t.computed(function(){var e=1/0;return n.parent&&(e=Math.min(b.value,d.value)),e}),minLeft:t.computed(function(){return n.parent?0:-1/0}),minTop:t.computed(function(){return n.parent?0:-1/0}),maxLeft:t.computed(function(){return n.parent?m.value-r.value:1/0}),maxTop:t.computed(function(){return n.parent?b.value-o.value:1/0})},w={setWidth:function(e){return n.disabledW?r.value:f(Math.min(y.maxWidth.value,Math.max(y.minWidth.value,e)))},setHeight:function(e){return n.disabledH?o.value:v(Math.min(y.maxHeight.value,Math.max(y.minHeight.value,e)))},setTop:function(e){return n.disabledY?l.value:p(Math.min(y.maxTop.value,Math.max(y.minTop.value,e)))},setLeft:function(e){return n.disabledX?u.value:g(Math.min(y.maxLeft.value,Math.max(y.minLeft.value,e)))}};return e(e({},y),w)};var u=["mousedown","touchstart"],l=["mouseup","touchend"],s=["mousemove","touchmove"];function c(e){return"touches"in e?[e.touches[0].pageX,e.touches[0].pageY]:[e.pageX,e.pageY]}return d.initDraggableContainer=function(e,n,i,r,o,d,h){var f=n.left,v=n.top,p=n.width,g=n.height,m=n.dragging,b=n.id,y=n.setDragging,w=n.setEnable,x=n.setResizing,z=n.setResizingHandle,M=n.parentScaleX,H=n.parentScaleY,R=n.triggerKey,L=i.setTop,E=i.setLeft,S=0,W=0,N=0,P=0,D=null,_=document.documentElement,A=function(t){var n,a=t.target;(null===(n=e.value)||void 0===n?void 0:n.contains(a))||(w(!1),y(!1),x(!1),z(""))},j=function(){y(!1),a.removeEvent(_,l,j),a.removeEvent(_,s,C),D=null,d&&(d.updatePosition(b,{x:f.value,y:v.value,w:p.value,h:g.value}),d.setMatchedLine(null))},C=function(t){if(t.preventDefault(),("right"==R.value?3:1)==t.which&&m.value&&e.value){var n=c(t),a=n[0],i=n[1],r=(a-N)/M.value,u=(i-P)/H.value,l=S+r,s=W+u;if(null!==D){var h={col:[l,l+p.value/2,l+p.value],row:[s,s+g.value/2,s+g.value]},f={row:h.row.map(function(e,t){var n=null;return Object.values(D.row).forEach(function(t){e>=t.min&&e<=t.max&&(n=t.value)}),null!==n&&(0===t?s=n:1===t?s=Math.floor(n-g.value/2):2===t&&(s=Math.floor(n-g.value))),n}).filter(function(e){return null!==e}),col:h.col.map(function(e,t){var n=null;return Object.values(D.col).forEach(function(t){e>=t.min&&e<=t.max&&(n=t.value)}),null!==n&&(0===t?l=n:1===t?l=Math.floor(n-p.value/2):2===t&&(l=Math.floor(n-p.value))),n}).filter(function(e){return null!==e})};d.setMatchedLine(f)}o("dragging",{x:E(l),y:L(s)})}},T=function(e){r.value&&(y(!0),S=f.value,W=v.value,N=c(e)[0],P=c(e)[1],a.addEvent(_,s,C),a.addEvent(_,l,j),d&&!d.disabled.value&&(D=a.getReferenceLineMap(d,h,b)))};return t.watch(m,function(e,t){!t&&e?(o("drag-start",{x:f.value,y:v.value}),w(!0),y(!0)):(o("drag-end",{x:f.value,y:v.value}),y(!1))}),t.onMounted(function(){var t=e.value;t&&(t.style.left=f+"px",t.style.top=v+"px",a.addEvent(_,u,A),a.addEvent(t,u,T))}),t.onUnmounted(function(){e.value&&(a.removeEvent(_,u,A),a.removeEvent(_,l,j),a.removeEvent(_,s,C))}),{containerRef:e}},d.initResizeHandle=function(e,n,i,r,o){var u=n.setWidth,d=n.setHeight,h=n.setLeft,f=n.setTop,v=e.width,p=e.height,g=e.left,m=e.top,b=e.aspectRatio,y=e.setResizing,w=e.setResizingHandle,x=e.setResizingMaxWidth,z=e.setResizingMaxHeight,M=e.setResizingMinWidth,H=e.setResizingMinHeight,R=i.parentWidth,L=i.parentHeight,E=0,S=0,W=0,N=0,P=0,D=0,_=1,A="",j="",C=document.documentElement,T=function(e){e.preventDefault();var t=c(e),n=t[0],a=t[1],i=n-P,l=a-D,s=i,b=l;r.lockAspectRatio&&(l=(i=Math.abs(i))*_,(s<0||"m"===j&&b<0)&&(i=-i,l=-l)),"t"===A?(d(S-l),f(N-(p.value-S))):"b"===A&&d(S+l),"l"===j?(u(E-i),h(W-(v.value-E))):"r"===j&&u(E+i),o("resizing",{x:g.value,y:m.value,w:v.value,h:p.value})},O=function(){o("resize-end",{x:g.value,y:m.value,w:v.value,h:p.value}),w(""),y(!1),x(1/0),z(1/0),M(r.minW),H(r.minH),a.removeEvent(C,s,T),a.removeEvent(C,l,O)};return t.onUnmounted(function(){a.removeEvent(C,l,O),a.removeEvent(C,s,T)}),{handlesFiltered:t.computed(function(){return r.resizable?a.filterHandles(r.handles):[]}),resizeHandleDown:function(e,t){if(r.resizable){e.stopPropagation(),w(t),y(!0),A=t[0],j=t[1],b.value&&(["tl","tm","ml","bl"].includes(t)?(A="t",j="l"):(A="b",j="r"));var n=r.minH,i=r.minW;if(n/i>b.value?i=n/b.value:n=i*b.value,M(i),H(n),parent){var u="t"===A?m.value+p.value:L.value-m.value,d="l"===j?g.value+v.value:R.value-g.value;r.lockAspectRatio&&(u/d<b.value?d=u/b.value:u=d*b.value),z(u),x(d)}E=v.value,S=p.value,W=g.value,N=m.value;var h=c(e);P=h[0],D=h[1],_=b.value,o("resize-start",{x:g.value,y:m.value,w:v.value,h:p.value}),a.addEvent(C,s,T),a.addEvent(C,l,O)}}}},d.watchProps=function(e,n){var a=n.setWidth,i=n.setHeight,r=n.setLeft,o=n.setTop;t.watch(function(){return e.w},function(e){a(e)}),t.watch(function(){return e.h},function(e){i(e)}),t.watch(function(){return e.x},function(e){r(e)}),t.watch(function(){return e.y},function(e){o(e)})},d}(),l=h();e.ALL_HANDLES=["tl","tm","tr","ml","mr","bl","bm","br"];var s={initW:{type:Number,default:null},initH:{type:Number,default:null},w:{type:Number,default:0},h:{type:Number,default:0},x:{type:Number,default:0},y:{type:Number,default:0},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},disabledX:{type:Boolean,default:!1},disabledY:{type:Boolean,default:!1},disabledW:{type:Boolean,default:!1},disabledH:{type:Boolean,default:!1},minW:{type:Number,default:20},minH:{type:Number,default:20},active:{type:Boolean,default:!1},parent:{type:Boolean,default:!1},handles:{type:Array,default:e.ALL_HANDLES,validator:function(e){return l.filterHandles(e).length===e.length}},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},lockAspectRatio:{type:Boolean,default:!1},parentScaleX:{type:Number,default:1},parentScaleY:{type:Number,default:1},triggerKey:{type:String,default:"left"}},c=r.defineComponent({name:"Vue3DraggableResizable",props:s,emits:["activated","deactivated","drag-start","resize-start","dragging","resizing","drag-end","resize-end","update:w","update:h","update:x","update:y","update:active"],setup:function(e,n){var a=n.emit,i=u.initState(e,a),o=null;r.inject("identity")===l.IDENTITY&&(o={updatePosition:r.inject("updatePosition"),getPositionStore:r.inject("getPositionStore"),disabled:r.inject("disabled"),adsorbParent:r.inject("adsorbParent"),adsorbCols:r.inject("adsorbCols"),adsorbRows:r.inject("adsorbRows"),setMatchedLine:r.inject("setMatchedLine")});var s=r.ref(),d=u.initParent(s),c=u.initLimitSizeAndMethods(e,d,i);u.initDraggableContainer(s,i,c,r.toRef(e,"draggable"),a,o,d);var h=u.initResizeHandle(i,c,d,e,a);return u.watchProps(e,c),t(t(t(t({containerRef:s,containerProvider:o},i),d),c),h)},computed:{style:function(){return{width:this.width+"px",height:this.height+"px",top:this.top+"px",left:this.left+"px"}},klass:function(){var e;return(e={})[this.classNameActive]=this.enable,e[this.classNameDragging]=this.dragging,e[this.classNameResizing]=this.resizing,e[this.classNameDraggable]=this.draggable,e[this.classNameResizable]=this.resizable,e}},mounted:function(){if(this.containerRef){this.containerRef.ondragstart=function(){return!1};var e=l.getElSize(this.containerRef),t=e.width,n=e.height;this.setWidth(null===this.initW?this.w||t:this.initW),this.setHeight(null===this.initH?this.h||n:this.initH),this.containerProvider&&this.containerProvider.updatePosition(this.id,{x:this.left,y:this.top,w:this.width,h:this.height})}},render:function(){var e=this;return r.h("div",{ref:"containerRef",class:["vdr-container",this.klass],style:this.style},a([this.$slots.default&&this.$slots.default()],this.handlesFiltered.map(function(t){return r.h("div",{class:["vdr-handle","vdr-handle-"+t,e.classNameHandle,e.classNameHandle+"-"+t],style:{display:e.enable?"block":"none"},onMousedown:function(n){return e.resizeHandleDown(n,t)},onTouchstart:function(n){return e.resizeHandleDown(n,t)}})})))}});e.default=c}(s)),s}var v={};!function(e){var t=n&&n.__spreadArrays||function(){for(var e=0,t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var a=Array(e),i=0;for(t=0;t<n;t++)for(var r=arguments[t],o=0,u=r.length;o<u;o++,i++)a[i]=r[o];return a};e.__esModule=!0;var a=i,r=h();e.default=a.defineComponent({name:"DraggableContainer",props:{disabled:{type:Boolean,default:!1},adsorbParent:{type:Boolean,default:!0},adsorbCols:{type:Array,default:null},adsorbRows:{type:Array,default:null},referenceLineVisible:{type:Boolean,default:!0},referenceLineColor:{type:String,default:"#f00"}},setup:function(e){var t=a.reactive({}),n=a.reactive({matchedLine:null}),i=a.computed(function(){return n.matchedLine&&n.matchedLine.row||[]}),o=a.computed(function(){return n.matchedLine&&n.matchedLine.col||[]});return a.provide("identity",r.IDENTITY),a.provide("updatePosition",function(e,n){t[e]=n}),a.provide("getPositionStore",function(e){var n=Object.assign({},t);return e&&delete n[e],n}),a.provide("setMatchedLine",function(e){n.matchedLine=e}),a.provide("disabled",a.toRef(e,"disabled")),a.provide("adsorbParent",a.toRef(e,"adsorbParent")),a.provide("adsorbCols",e.adsorbCols||[]),a.provide("adsorbRows",e.adsorbRows||[]),{matchedRows:i,matchedCols:o}},methods:{renderReferenceLine:function(){var e=this;return this.referenceLineVisible?t(this.matchedCols.map(function(t){return a.h("div",{style:{width:"0",height:"100%",top:"0",left:t+"px",borderLeft:"1px dashed "+e.referenceLineColor,position:"absolute"}})}),this.matchedRows.map(function(t){return a.h("div",{style:{width:"100%",height:"0",left:"0",top:t+"px",borderTop:"1px dashed "+e.referenceLineColor,position:"absolute"}})})):[]}},render:function(){return a.h("div",{style:{width:"100%",height:"100%",position:"relative"}},t([this.$slots.default&&this.$slots.default()],this.renderReferenceLine()))}})}(v),function(e){var t=n&&n.__createBinding||(Object.create?function(e,t,n,a){void 0===a&&(a=n),Object.defineProperty(e,a,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,a){void 0===a&&(a=n),e[a]=t[n]});e.__esModule=!0;var a=f(),i=v;a.default.install=function(e){return e.component(a.default.name,a.default),e.component(i.default.name,i.default),e},t(e,v,"default","DraggableContainer"),e.default=a.default}(l),e("V",a(l))}}});
