import"./vue-DSB24BnW.js";import{u as D,a as F}from"./vue-router-fyTrc5Va.js";import{f as $,j as B}from"./index-CfbifT15.js";import{_ as K}from"./index-CR9DtD1f.js";import{l as z,u as j,a as q,d as M,g as S}from"./config-YWakucQU.js";import{a as g,c as E}from"./element-plus-Cdmo8XhC.js";import{d as L,r as _,v as f,f as A,h as i,c as H,i as o,j as t,u as P,o as G,a as v,m as u}from"./@vue-CmN6Z9lx.js";import"./ace-builds-DiBK84cm.js";import"./vuex-CLkfaZ6_.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-Jw_v0k3c.js";import"./@vueuse-D81fD1wx.js";import"./nprogress-C9k5oxGd.js";import"./axios-BNZxzx77.js";import"./@element-plus-DGCe4rM-.js";/* empty css                    */import"./dayjs-BhI1duP8.js";import"./element-easy-form-Dkjp9jsl.js";import"./mockjs-72j0mDZC.js";import"./vuedraggable-C0hio2tq.js";import"./sortablejs-CUXm9Ppf.js";import"./vue3-ace-editor-YX3apWn1.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./uuid-CQkTLCs1.js";import"./vue-i18n-BPZ2p18e.js";import"./@intlify-fCQYzvHO.js";import"./element-easy-print-B_PXcQ-3.js";import"./vue3-draggable-resizable-yn-Cm3Ut1tY.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";const J={class:"commonBoxmp"},O={class:"jcb aic w100"},Q={class:"dialog-footer"},Be=L({__name:"index",setup(W){D(),F();const{parseTime:X,addDateRange:Y,getDict:C}=$();_(!0);const e=f({form:{},title:"",rules:{configName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],configKey:[{required:!0,message:"参数键名不能为空",trigger:"blur"}],configValue:[{required:!0,message:"参数键值不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"参数主键",prop:"configId",visible:!0},{label:"参数名称",prop:"configName",visible:!0},{label:"参数键名",prop:"configKey",visible:!0},{label:"参数键值",prop:"configValue",visible:!0},{label:"系统内置",prop:"configType",visible:!0,render:({row:r})=>o(K,{values:r.configType,dataType:"primary",options:V.sys_yes_no},null)},{label:"备注",visible:!0,prop:"remark"},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1});f({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),f({pageNum:1,pageSize:10,deptId:void 0});const k=async r=>{r&&(await r.validate(),e.form.configId!=null?j(e.form).then(l=>{g.success("修改成功"),e.userVisible=!1,d()}):q(e.form).then(l=>{g.success("新增成功"),e.userVisible=!1,d()}))},x=r=>{const l=r.configId;E.confirm('是否确认删除编号为"'+l+'"的数据项？').then(function(){return M(l)}).then(()=>{g.success("删除成功"),d()}).catch(function(){})},w=r=>{const l=r.configId;S(l).then(n=>{e.title="修改岗位",e.form=n.data,e.userVisible=!0})},T=()=>{e.form={},e.title="添加岗位",e.userVisible=!0},b=_(),d=()=>{b.value.getList()};let V=f({sys_yes_no:[]});const y=_();return A(async()=>{V.sys_yes_no=await C("sys_yes_no")}),(r,l)=>{const n=i("el-button"),h=i("el-table-column"),N=i("TableV2"),p=i("el-input"),s=i("el-form-item"),m=i("el-col"),c=i("el-row"),R=i("el-form"),I=i("el-dialog");return G(),H("div",J,[o(N,{class:"flex1",ref_key:"tableV2Ref",ref:b,apiFunction:P(z),selection:"",columns:e.columnData},{tableHeader:t(()=>[v("div",O,[o(n,{type:"primary",onClick:T},{default:t(()=>[u("新增")]),_:1})])]),operation:t(()=>[o(h,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:t(a=>[o(n,{type:"text",onClick:U=>w(a.row)},{default:t(()=>[u("修改")]),_:2},1032,["onClick"]),o(n,{type:"text",onClick:U=>x(a.row)},{default:t(()=>[u("删除")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"]),o(I,{modelValue:e.userVisible,"onUpdate:modelValue":l[7]||(l[7]=a=>e.userVisible=a),title:e.title,width:"50%","destroy-on-close":"",center:""},{footer:t(()=>[v("span",Q,[o(n,{onClick:l[5]||(l[5]=a=>e.userVisible=!1)},{default:t(()=>[u("取消")]),_:1}),o(n,{type:"primary",onClick:l[6]||(l[6]=a=>k(y.value))},{default:t(()=>[u(" 确定 ")]),_:1})])]),default:t(()=>[o(R,{ref_key:"ruleFormRef",ref:y,model:e.form,rules:e.rules,"label-width":"120px",class:"demo-ruleForm"},{default:t(()=>[o(c,{gutter:20},{default:t(()=>[o(m,{span:12},{default:t(()=>[o(s,{label:"参数名称",prop:"configName"},{default:t(()=>[o(p,{modelValue:e.form.configName,"onUpdate:modelValue":l[0]||(l[0]=a=>e.form.configName=a),placeholder:"请输入参数名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:t(()=>[o(s,{label:"参数键名",prop:"configKey"},{default:t(()=>[o(p,{modelValue:e.form.configKey,"onUpdate:modelValue":l[1]||(l[1]=a=>e.form.configKey=a),placeholder:"请输入参数键名"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(c,{gutter:20},{default:t(()=>[o(m,{span:12},{default:t(()=>[o(s,{label:"参数键值",prop:"configValue"},{default:t(()=>[o(p,{modelValue:e.form.configValue,"onUpdate:modelValue":l[2]||(l[2]=a=>e.form.configValue=a),placeholder:"请输入参数键值"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:t(()=>[o(s,{label:"系统内置",prop:"configType"},{default:t(()=>[o(B,{class:"w100",dictCode:"sys_yes_no",modelValue:e.form.configType,"onUpdate:modelValue":l[3]||(l[3]=a=>e.form.configType=a)},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(c,{gutter:20},{default:t(()=>[o(m,{span:24},{default:t(()=>[o(s,{label:"备注",prop:"remark"},{default:t(()=>[o(p,{modelValue:e.form.remark,"onUpdate:modelValue":l[4]||(l[4]=a=>e.form.remark=a),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{Be as default};
