System.register(["./vue-legacy.B9Olwrac.js","./element-easy-form-legacy.CpcT47hh.js","./api-legacy.B_8ADVxG.js","./sizeEnum-legacy.BCtLndcn.js","./vue-i18n-legacy.hdTlXW52.js","./index-legacy.CKNIAqsw.js","./element-plus-legacy.Bcl7tp5b.js","./@vue-legacy.BZ6GtLmR.js"],(function(e,t){"use strict";var a,l,r,o,u,s,n,m,d,i,c,p,g,y,h,f,v,N,b,j,_;return{setters:[null,e=>{a=e.E},e=>{l=e.u,r=e.a,o=e.g},e=>{u=e.d,s=e.f},e=>{n=e.u},e=>{m=e.d},e=>{d=e.a},e=>{i=e.d,c=e.r,p=e.i,g=e.w,y=e.j,h=e.t,f=e.l,v=e.u,N=e.o,b=e.a,j=e.k,_=e.A}],execute:function(){e("_",i({__name:"addOrEdit",props:{modelValue:{type:Boolean,defalut:!1},id:{type:String,defalut:""}},emits:["update:modelValue","update"],setup(e,{emit:t}){const i=t;let V=e;const{t:w}=n(),A=c(!1),E=c(!1),x=c(),T=async()=>{try{const e=await x.value.validate();V.id?l(e).then((e=>{d.success(w("操作成功")),q(),i("update")})):r(e).then((e=>{d.success(w("操作成功")),q(),i("update")}))}catch(e){console.log("error :>> ",e)}};p({}),c({name:""});const k=c({schema:[{label:"计量表编号",prop:"meterNumber",colAttrs:{span:12},componentName:"ElInput",attrs:{placeholder:"请输入编号",maxlength:30,...s},rules:[{required:!0,message:"计量表编号不能为空",trigger:"change"}]},{label:"计量表名称",prop:"meterName",colAttrs:{span:12},componentName:"ElInput",attrs:{placeholder:"请输入名称",maxlength:30,...s},rules:[{required:!0,message:"计量表名称不能为空",trigger:"change"}]},{label:"计量表类型",prop:"meterType",colAttrs:{span:12},componentName:"selectDict",attrs:{placeholder:"请选择类型",dictCode:"meter_type",...s},rules:[{required:!0,message:"计量表类型不能为空",trigger:"change"}]},{label:"计量值单位",prop:"unit",colAttrs:{span:12},componentName:"ElInput",attrs:{placeholder:"请输入计量值单位",...s},rules:[{required:!0,message:"计量值单位不能为空",trigger:"change"}]}],model:{meterNumber:"",meterName:"",meterType:"",areaName:"",unit:""},formAttrs:{"label-width":"120px",inline:!0}});g((()=>V.modelValue),(e=>{A.value=e,V.id&&e?o(V.id).then((e=>{k.value.model=e.data,k.value.model.meterType=m(e.data.meterType)})):!V.id&&e&&(k.value.model={meterNumber:"",meterName:"",meterType:"",unit:""})}),{immediate:!0});const q=()=>{i("update:modelValue",!1)};return g((()=>A.value),(e=>{e||q()})),(t,l)=>{const r=y("el-button"),o=y("ComDialog");return N(),h(o,{modelValue:A.value,"onUpdate:modelValue":l[0]||(l[0]=e=>A.value=e),title:e.id?"编辑":"新增",width:v(u)},{footer:f((()=>[b("div",null,[j(r,{size:"large",onClick:q},{default:f((()=>[_("取消")])),_:1}),j(r,{size:"large",loading:E.value,type:"primary",onClick:T},{default:f((()=>[_("保存")])),_:1},8,["loading"])])])),default:f((()=>[j(v(a),{ref_key:"comFromRef",ref:x,formJson:k.value},null,8,["formJson"])])),_:1},8,["modelValue","title","width"])}}}))}}}));
