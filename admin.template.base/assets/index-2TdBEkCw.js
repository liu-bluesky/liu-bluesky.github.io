import"./vue-BCJY8gBf.js";import{u as M,b as S}from"./vue-router-Bk-12vT2.js";import{D as U}from"./index-DMBomKMH.js";import{h as d,i as B,a as F}from"./index-DnKBT612.js";import{a as g,c as z}from"./element-plus-BIk4sW6s.js";import{d as $,r as y,B as c,k as o,b as j,j as r,o as K,c as L,l,a as k,v as u,u as W}from"./@vue-BwKUEgJD.js";import"./axios-DWt2DAqT.js";import"./pinia-TB7j859w.js";import"./vue-demi-DP18qiWf.js";import"./@vueuse-BO9Bf6Jf.js";import"./js-cookie-C1NIBS1L.js";import"./vue-i18n-DkRB_xiH.js";import"./@intlify-BnZ-SFqO.js";/* empty css                    */import"./dayjs-CpORZXld.js";import"./element-easy-print-DsNlMTPy.js";import"./mockjs-CpzBLoCE.js";import"./lodash-Ce2coQ-v.js";import"./vue3-draggable-resizable-yn-CG0QmAMT.js";import"./element-easy-form-CUlqWkgt.js";import"./vuedraggable-BjUjsGh2.js";import"./@vue-monaco-B0CNy8YX.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-D9bzjPyL.js";import"./lodash-es-D0ldFxdg.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-riLredlm.js";import"./async-validator-BxgltDpX.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-uXSQws5g.js";function H(a){return d.request({url:"/system/post/list",method:"get",params:a})}function G(a){return d.request({url:"/system/post/"+a,method:"get"})}function J(a){return d.request({url:"/system/post",method:"post",data:a})}function Q(a){return d.request({url:"/system/post",method:"put",data:a})}function X(a){return d.request({url:"/system/post/"+a,method:"delete"})}const Y={class:"commonBoxmp"},Z={class:"jcb aic w100"},ee={class:"dialog-footer"},te=$({__name:"index",setup(a){M(),S();const{parseTime:oe,addDateRange:le,getDict:v}=B();y({rowAttrs:{gutter:20,justify:"start",align:"middle"},schema:[{label:"岗位名称",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"text"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"postName",componentName:"ElInput",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"岗位编码",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"text"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"postCode",componentName:"ElInput",colAttrs:{span:12,offset:0,push:0,pull:0}},{prop:"status",label:"状态",type:"COMPONENT",attrs:{dictCode:"sys_normal_disable"},formItemAttrs:{},componentName:"selectDict",rules:[{required:!0,message:"不能为空",trigger:"change"}],colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"岗位顺序",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",step:1,precision:0,defaultValue:0,"step-strictly":!1,controls:!0,"controls-position":"right"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"KarenRichardWilliams",componentName:"ElInputNumber",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"备注",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"textarea"},rules:[],prop:"remark",componentName:"ElInput",colAttrs:{span:24}}],model:{postName:"",postCode:"",KarenRichardWilliams:0,remark:""},formAttrs:{"label-position":"left",inline:!0,"label-width":80,"hide-required-asterisk":!1,"require-asterisk-position":"left","inline-message":!1,"status-icon":!1,"scroll-to-error":!1}});const t=c({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"岗位编号",prop:"postId",visible:!0},{label:"岗位编码",prop:"postCode",visible:!0},{label:"岗位名称",visible:!0,prop:"postName"},{label:"岗位排序",visible:!0,prop:"postSort"},{label:"状态",prop:"status",visible:!0,render:({row:n})=>o(U,{values:n.status,dataType:"primary",options:N.sys_normal_disable},null)},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1});c({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),c({pageNum:1,pageSize:10,deptId:void 0});const x=async n=>{n&&(await n.validate(),t.form.postId!=null?Q(t.form).then(e=>{g.success("修改成功"),t.userVisible=!1,f()}):J(t.form).then(e=>{g.success("新增成功"),t.userVisible=!1,f()}))},w=n=>{const e=n.postId;z.confirm('是否确认删除编号为"'+e+'"的数据项？').then(function(){return X(e)}).then(()=>{g.success("删除成功"),f()}).catch(function(){})},I=n=>{const e=n.postId;G(e).then(p=>{t.title="修改岗位",t.form=p.data,t.userVisible=!0})},q=()=>{t.form={},t.title="添加岗位",t.userVisible=!0},V=y(),f=()=>{V.value.getList()};let N=c({sys_normal_disable:[]});const C=y();return j(async()=>{N.sys_normal_disable=await v("sys_normal_disable"),f()}),(n,e)=>{const p=r("el-button"),h=r("el-link"),A=r("el-table-column"),T=r("TableV2"),_=r("el-input"),i=r("el-form-item"),m=r("el-col"),b=r("el-row"),D=r("selectDict"),E=r("el-input-number"),P=r("el-form"),O=r("el-dialog");return K(),L("div",Y,[o(T,{class:"flex1",apiFunction:W(H),ref_key:"tableV2Ref",ref:V,columns:t.columnData},{tableHeader:l(()=>[k("div",Z,[o(p,{type:"primary",onClick:q},{default:l(()=>e[8]||(e[8]=[u("新增")])),_:1})])]),operation:l(()=>[o(A,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:l(s=>[o(h,{type:"primary",onClick:R=>I(s.row)},{default:l(()=>e[9]||(e[9]=[u("修改")])),_:2},1032,["onClick"]),o(h,{type:"primary",class:"mx5",onClick:R=>w(s.row)},{default:l(()=>e[10]||(e[10]=[u("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"]),o(O,{modelValue:t.userVisible,"onUpdate:modelValue":e[7]||(e[7]=s=>t.userVisible=s),title:t.title,width:"50%","destroy-on-close":"",center:""},{footer:l(()=>[k("span",ee,[o(p,{onClick:e[5]||(e[5]=s=>t.userVisible=!1)},{default:l(()=>e[11]||(e[11]=[u("取消")])),_:1}),o(p,{type:"primary",onClick:e[6]||(e[6]=s=>x(C.value))},{default:l(()=>e[12]||(e[12]=[u(" 确定 ")])),_:1})])]),default:l(()=>[o(P,{ref_key:"ruleFormRef",ref:C,model:t.form,rules:t.rules,"label-width":"120px",class:"demo-ruleForm"},{default:l(()=>[o(b,{gutter:20},{default:l(()=>[o(m,{span:12},{default:l(()=>[o(i,{label:"岗位名称",prop:"postName"},{default:l(()=>[o(_,{modelValue:t.form.postName,"onUpdate:modelValue":e[0]||(e[0]=s=>t.form.postName=s),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:l(()=>[o(i,{label:"岗位编码",prop:"postCode"},{default:l(()=>[o(_,{modelValue:t.form.postCode,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.postCode=s),placeholder:"请输入编码名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(b,{gutter:20},{default:l(()=>[o(m,{span:12},{default:l(()=>[o(i,{label:"状态"},{default:l(()=>[o(D,{class:"w100",dictCode:"sys_normal_disable",modelValue:t.form.status,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.status=s)},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:l(()=>[o(i,{label:"岗位顺序",prop:"postSort"},{default:l(()=>[o(E,{modelValue:t.form.postSort,"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.postSort=s),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(b,{gutter:20},{default:l(()=>[o(m,{span:24},{default:l(()=>[o(i,{label:"备注",prop:"remark"},{default:l(()=>[o(_,{modelValue:t.form.remark,"onUpdate:modelValue":e[4]||(e[4]=s=>t.form.remark=s),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}}),Re=F(te,[["__file","D:/work/public/admin-tempalte-base/src/views/system/post/index.vue"]]);export{Re as default};
