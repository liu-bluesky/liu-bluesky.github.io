import"./vue-CVNGtIj_.js";import{l as E,a as K,c as L}from"./cache-C5AZSEwB.js";import{n as $}from"./index-DkSUJrfs.js";import{a as m}from"./element-plus-CvdjtRA4.js";import{d as H,i as O,b as R,j as n,au as U,c as z,k as e,l as t,o as f,A as _,W as B,t as N,a as g}from"./@vue-4wuvJO_G.js";import"./axios-CdcsOsvR.js";import"./vue-router-D7bIofKn.js";import"./vuex-CDsxXceG.js";import"./js-cookie-Cz0CWeBA.js";import"./path-browserify-D3uKt2uU.js";import"./vue-i18n-Bt9z2wfA.js";import"./@intlify-fCQYzvHO.js";import"./@vueuse-g1uILd_S.js";import"./element-easy-print-IlIR9WEy.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-BhhoUBD4.js";import"./element-easy-form-j6O3PxFI.js";import"./vuedraggable-C23OG9zM.js";import"./sortablejs-C1wvN1Nu.js";import"./@vue-monaco-CTUC9hHy.js";import"./uuid-CQkTLCs1.js";import"./nprogress-C1nr5Arz.js";import"./@element-plus-DtKFL0Hn.js";/* empty css                    */import"./dayjs-CuLmuTop.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";const M={class:"app-container"},j=g("span",null," 缓存列表",-1),A=g("span",null," 键名列表",-1),T=g("span",null," 缓存内容",-1),be=H({__name:"list",setup(W){console.log("store :>> ",$);const a=O({tableData:[],cacheNames:[],cacheKeys:[],cacheForm:{},nowCacheName:"",loading:!0,subLoading:!1,tableHeight:window.innerHeight-200}),C=()=>{a.loading=!0,E().then(u=>{a.cacheNames=u.data,a.loading=!1})},v=()=>{C(),m.success("刷新缓存列表成功")},s=u=>{const o=u!==void 0?u.cacheName:a.nowCacheName;o!==""&&(a.subLoading=!0,K(o).then(r=>{a.cacheKeys=r.data,a.subLoading=!1,a.nowCacheName=o}))},k=u=>{L(u.cacheName).then(o=>{m.success("清理缓存名称["+a.nowCacheName+"]成功"),s()})},F=()=>{s(),m.success("刷新键名列表成功")},x=()=>{s(),m.success("刷新键名列表成功")};return R(()=>{C()}),(u,o)=>{const r=n("el-button"),c=n("el-table-column"),w=n("el-table"),d=n("el-card"),i=n("el-col"),p=n("el-input"),h=n("el-form-item"),y=n("el-row"),V=n("el-form"),b=U("loading");return f(),z("div",M,[e(y,{gutter:10},{default:t(()=>[e(i,{span:8},{default:t(()=>[e(d,{style:{height:"calc(100vh - 125px)"}},{header:t(()=>[j,e(r,{style:{float:"right",padding:"3px 0"},type:"text",onClick:o[0]||(o[0]=l=>v())},{default:t(()=>[_("刷新缓存")]),_:1})]),default:t(()=>[B((f(),N(w,{data:a.cacheNames,height:u.tableHeight,"highlight-current-row":"",onRowClick:s,style:{width:"100%"}},{default:t(()=>[e(c,{label:"序号",width:"60",type:"index"}),e(c,{label:"缓存名称",align:"center",prop:"cacheName","show-overflow-tooltip":!0,formatter:u.nameFormatter},null,8,["formatter"]),e(c,{label:"备注",align:"center",prop:"remark","show-overflow-tooltip":!0}),e(c,{label:"操作",width:"60",align:"center","class-name":"small-padding fixed-width"},{default:t(l=>[e(r,{size:"mini",type:"text",icon:"el-icon-delete",onClick:D=>k(l.row)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height"])),[[b,a.loading]])]),_:1})]),_:1}),e(i,{span:8},{default:t(()=>[e(d,{style:{height:"calc(100vh - 125px)"}},{header:t(()=>[A,e(r,{style:{float:"right",padding:"3px 0"},type:"text",onClick:o[1]||(o[1]=l=>F())},{default:t(()=>[_("刷新键名")]),_:1})]),default:t(()=>[B((f(),N(w,{data:a.cacheKeys,height:a.tableHeight,"highlight-current-row":"",onRowClick:u.handleCacheValue,style:{width:"100%"}},{default:t(()=>[e(c,{label:"序号",width:"60",type:"index"}),e(c,{label:"缓存键名",align:"center","show-overflow-tooltip":!0,formatter:u.keyFormatter},null,8,["formatter"]),e(c,{label:"操作",width:"60",align:"center","class-name":"small-padding fixed-width"},{default:t(l=>[e(r,{size:"mini",type:"text",icon:"el-icon-delete",onClick:D=>x(l.row)},null,8,["onClick"])]),_:1})]),_:1},8,["data","height","onRowClick"])),[[b,a.subLoading]])]),_:1})]),_:1}),e(i,{span:8},{default:t(()=>[e(d,{bordered:!1,style:{height:"calc(100vh - 125px)"}},{header:t(()=>[T,e(r,{style:{float:"right",padding:"3px 0"},type:"text",icon:"el-icon-refresh-right",onClick:o[2]||(o[2]=l=>F())},{default:t(()=>[_("清理全部")]),_:1})]),default:t(()=>[e(V,{model:a.cacheForm},{default:t(()=>[e(y,{gutter:32},{default:t(()=>[e(i,{offset:1,span:22},{default:t(()=>[e(h,{label:"缓存名称:",prop:"cacheName"},{default:t(()=>[e(p,{modelValue:a.cacheForm.cacheName,"onUpdate:modelValue":o[3]||(o[3]=l=>a.cacheForm.cacheName=l),readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{offset:1,span:22},{default:t(()=>[e(h,{label:"缓存键名:",prop:"cacheKey"},{default:t(()=>[e(p,{modelValue:a.cacheForm.cacheKey,"onUpdate:modelValue":o[4]||(o[4]=l=>a.cacheForm.cacheKey=l),readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1}),e(i,{offset:1,span:22},{default:t(()=>[e(h,{label:"缓存内容:",prop:"cacheValue"},{default:t(()=>[e(p,{modelValue:a.cacheForm.cacheValue,"onUpdate:modelValue":o[5]||(o[5]=l=>a.cacheForm.cacheValue=l),type:"textarea",rows:8,readOnly:!0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})]),_:1})]),_:1})])}}});export{be as default};
