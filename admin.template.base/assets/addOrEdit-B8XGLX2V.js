import"./vue-BCJY8gBf.js";import{x as w,y as x,z as I,a as A}from"./index-DnKBT612.js";import{u as R}from"./vue-i18n-DkRB_xiH.js";import{a as c}from"./element-plus-BIk4sW6s.js";import{d as B,s as f,r as g,B as D,w as y,j as i,o as F,q,l as s,a as z,k as p,v as _}from"./@vue-BwKUEgJD.js";import"./axios-DWt2DAqT.js";import"./vue-router-Bk-12vT2.js";import"./pinia-TB7j859w.js";import"./vue-demi-DP18qiWf.js";import"./@vueuse-BO9Bf6Jf.js";import"./js-cookie-C1NIBS1L.js";/* empty css                    */import"./dayjs-CpORZXld.js";import"./element-easy-print-DsNlMTPy.js";import"./mockjs-CpzBLoCE.js";import"./lodash-Ce2coQ-v.js";import"./vue3-draggable-resizable-yn-CG0QmAMT.js";import"./element-easy-form-CUlqWkgt.js";import"./vuedraggable-BjUjsGh2.js";import"./@vue-monaco-B0CNy8YX.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-D9bzjPyL.js";import"./lodash-es-D0ldFxdg.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-riLredlm.js";import"./async-validator-BxgltDpX.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-uXSQws5g.js";import"./@intlify-BnZ-SFqO.js";const J=B({__name:"addOrEdit",props:{modelValue:{type:Boolean,defalut:!1},id:{type:String,defalut:""}},emits:["update:modelValue","update"],setup(b,{emit:v}){const l=v,a=f(!1),C=f(!1),n=g(),{t:d}=R(),h=async()=>{try{const e=await n.value.validate();o.id?w(e).then(t=>{c.success(d("操作成功")),r(),l("update")}):x(e).then(t=>{c.success(d("操作成功")),r(),l("update")})}catch(e){console.log("error :>> ",e)}};D({});const m=g({rowAttrs:{gutter:0,justify:"start",align:"middle"},schema:[{label:"分类名称",formItemAttrs:{},attrs:{placeholder:"请输入",type:"text"},prop:"categoryName",componentName:"ElInput",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"显示排序",prop:"orderNum",colAttrs:{span:12},componentName:"ElInputNumber",attrs:{min:0,placeholder:"请输入显示排序"},rules:[{required:!0,message:"显示排序不能为空",trigger:"change"}]},{label:"状态",prop:"status",colAttrs:{span:12},componentName:"selectDict",attrs:{dictCode:"sys_normal_disable",placeholder:"请选择分类状态"}}],model:{status:0},formAttrs:{"hide-required-asterisk":!1,"inline-message":!1,"status-icon":!1,labelWidth:"100px","scroll-to-error":!1}});let o=b;const V=()=>{I(o.id).then(e=>{m.value.model=e.data})};y(()=>o.modelValue,e=>{a.value=e,o.id&&e?V():!o.id&&e&&(m.value.model={status:"0"})},{immediate:!0});const r=()=>{l("update:modelValue",!1)};return y(()=>a.value,e=>{e||r()}),(e,t)=>{const E=i("ElementEasyForm"),u=i("el-button"),N=i("ComDialog");return F(),q(N,{modelValue:a.value,"onUpdate:modelValue":t[0]||(t[0]=k=>a.value=k),title:"新增"},{footer:s(()=>[z("div",null,[p(u,{size:"large",onClick:r},{default:s(()=>t[1]||(t[1]=[_("取消")])),_:1}),p(u,{size:"large",loading:C.value,type:"primary",onClick:h},{default:s(()=>t[2]||(t[2]=[_("保存")])),_:1},8,["loading"])])]),default:s(()=>[p(E,{ref_key:"comFromRef",ref:n,class:"mt20",formJson:m.value},null,8,["formJson"])]),_:1},8,["modelValue"])}}}),ce=A(J,[["__file","D:/work/public/admin-tempalte-base/src/views/table/component/addOrEdit.vue"]]);export{ce as default};
