import"./vue-Brcqt2vG.js";import{u as D,b as M}from"./vue-router-C7rU-wsU.js";import{_ as S}from"./index-BN6k9vM8.js";import{h as d,f as U}from"./index-9tbjk_aw.js";import{a as g,c as F}from"./element-plus-DELVhQcd.js";import{d as B,r as y,A as c,j as o,b as $,i as r,o as z,c as j,k as l,a as h,q as u,u as K}from"./@vue-B5Rjg0tc.js";import"./axios-CdcsOsvR.js";import"./pinia-6dDT7uVM.js";import"./vue-demi-CP2SMu8c.js";import"./js-cookie-Cz0CWeBA.js";import"./@vueuse-q0Sksrg4.js";import"./vue-i18n-oCxI6G6S.js";import"./@intlify-D_0T6EgR.js";/* empty css                    */import"./dayjs-CuLmuTop.js";import"./element-easy-print-DJ-KPX5f.js";import"./mockjs-DsfWEKpx.js";import"./vue3-draggable-resizable-yn-CGqamrhd.js";import"./element-easy-form-I2rWV52J.js";import"./lodash-CcF5vdS9.js";import"./vuedraggable-9s6OmZnz.js";import"./@vue-monaco-BfCDpgCA.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-CMMVBHN7.js";import"./lodash-es-CiJSjksT.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-r5W6hzzQ.js";import"./async-validator-D3FX-SGt.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-B55MhO6l.js";function L(a){return d.request({url:"/system/post/list",method:"get",params:a})}function W(a){return d.request({url:"/system/post/"+a,method:"get"})}function H(a){return d.request({url:"/system/post",method:"post",data:a})}function G(a){return d.request({url:"/system/post",method:"put",data:a})}function J(a){return d.request({url:"/system/post/"+a,method:"delete"})}const Q={class:"commonBoxmp"},X={class:"jcb aic w100"},Y={class:"dialog-footer"},Pe=B({__name:"index",setup(a){D(),M();const{parseTime:Z,addDateRange:ee,getDict:k}=U();y({rowAttrs:{gutter:20,justify:"start",align:"middle"},schema:[{label:"岗位名称",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"text"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"postName",componentName:"ElInput",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"岗位编码",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"text"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"postCode",componentName:"ElInput",colAttrs:{span:12,offset:0,push:0,pull:0}},{prop:"status",label:"状态",type:"COMPONENT",attrs:{dictCode:"sys_normal_disable"},formItemAttrs:{},rules:[],componentName:"selectDict",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"岗位顺序",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",step:1,precision:0,defaultValue:0,"step-strictly":!1,controls:!0,"controls-position":"right"},rules:[{required:!0,message:"不能为空",trigger:"change"}],prop:"KarenRichardWilliams",componentName:"ElInputNumber",colAttrs:{span:12,offset:0,push:0,pull:0}},{label:"备注",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"textarea"},rules:[],prop:"remark",componentName:"ElInput",colAttrs:{span:24}}],model:{postName:"",postCode:"",KarenRichardWilliams:0,remark:""},formAttrs:{"label-position":"left",inline:!0,"label-width":80,"hide-required-asterisk":!1,"require-asterisk-position":"left","inline-message":!1,"status-icon":!1,"scroll-to-error":!1}});const t=c({form:{},title:"",rules:{postName:[{required:!0,message:"岗位名称不能为空",trigger:"blur"}],postCode:[{required:!0,message:"岗位编码不能为空",trigger:"blur"}],postSort:[{required:!0,message:"岗位顺序不能为空",trigger:"blur"}]},dateRange:[],height:0,tableData:[],columnData:[{label:"岗位编号",prop:"postId",visible:!0},{label:"岗位编码",prop:"postCode",visible:!0},{label:"岗位名称",visible:!0,prop:"postName"},{label:"岗位排序",visible:!0,prop:"postSort"},{label:"状态",prop:"status",visible:!0,render:({row:n})=>o(S,{values:n.status,dataType:"primary",options:N.sys_normal_disable},null)},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1});c({currentPage:1,total:10,pageSize:10,pageSizes:[10,20,30,40],layout:"total, prev, pager, next,sizes"}),c({pageNum:1,pageSize:10,deptId:void 0});const v=async n=>{n&&(await n.validate(),t.form.postId!=null?G(t.form).then(e=>{g.success("修改成功"),t.userVisible=!1,f()}):H(t.form).then(e=>{g.success("新增成功"),t.userVisible=!1,f()}))},x=n=>{const e=n.postId;F.confirm('是否确认删除编号为"'+e+'"的数据项？').then(function(){return J(e)}).then(()=>{g.success("删除成功"),f()}).catch(function(){})},I=n=>{const e=n.postId;W(e).then(p=>{t.title="修改岗位",t.form=p.data,t.userVisible=!0})},q=()=>{t.form={},t.title="添加岗位",t.userVisible=!0},V=y(),f=()=>{V.value.getList()};let N=c({sys_normal_disable:[]});const C=y();return $(async()=>{N.sys_normal_disable=await k("sys_normal_disable"),f()}),(n,e)=>{const p=r("el-button"),w=r("el-table-column"),A=r("TableV2"),_=r("el-input"),i=r("el-form-item"),m=r("el-col"),b=r("el-row"),T=r("selectDict"),E=r("el-input-number"),P=r("el-form"),O=r("el-dialog");return z(),j("div",Q,[o(A,{class:"flex1",apiFunction:K(L),ref_key:"tableV2Ref",ref:V,columns:t.columnData},{tableHeader:l(()=>[h("div",X,[o(p,{type:"primary",onClick:q},{default:l(()=>e[8]||(e[8]=[u("新增")])),_:1})])]),operation:l(()=>[o(w,{label:"操作",fixed:"right",width:"160px",align:"left"},{default:l(s=>[o(p,{type:"text",onClick:R=>I(s.row)},{default:l(()=>e[9]||(e[9]=[u("修改")])),_:2},1032,["onClick"]),o(p,{type:"text",onClick:R=>x(s.row)},{default:l(()=>e[10]||(e[10]=[u("删除")])),_:2},1032,["onClick"])]),_:1})]),_:1},8,["apiFunction","columns"]),o(O,{modelValue:t.userVisible,"onUpdate:modelValue":e[7]||(e[7]=s=>t.userVisible=s),title:t.title,width:"50%","destroy-on-close":"",center:""},{footer:l(()=>[h("span",Y,[o(p,{onClick:e[5]||(e[5]=s=>t.userVisible=!1)},{default:l(()=>e[11]||(e[11]=[u("取消")])),_:1}),o(p,{type:"primary",onClick:e[6]||(e[6]=s=>v(C.value))},{default:l(()=>e[12]||(e[12]=[u(" 确定 ")])),_:1})])]),default:l(()=>[o(P,{ref_key:"ruleFormRef",ref:C,model:t.form,rules:t.rules,"label-width":"120px",class:"demo-ruleForm"},{default:l(()=>[o(b,{gutter:20},{default:l(()=>[o(m,{span:12},{default:l(()=>[o(i,{label:"岗位名称",prop:"postName"},{default:l(()=>[o(_,{modelValue:t.form.postName,"onUpdate:modelValue":e[0]||(e[0]=s=>t.form.postName=s),placeholder:"请输入岗位名称"},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:l(()=>[o(i,{label:"岗位编码",prop:"postCode"},{default:l(()=>[o(_,{modelValue:t.form.postCode,"onUpdate:modelValue":e[1]||(e[1]=s=>t.form.postCode=s),placeholder:"请输入编码名称"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(b,{gutter:20},{default:l(()=>[o(m,{span:12},{default:l(()=>[o(i,{label:"状态"},{default:l(()=>[o(T,{class:"w100",dictCode:"sys_normal_disable",modelValue:t.form.status,"onUpdate:modelValue":e[2]||(e[2]=s=>t.form.status=s)},null,8,["modelValue"])]),_:1})]),_:1}),o(m,{span:12},{default:l(()=>[o(i,{label:"岗位顺序",prop:"postSort"},{default:l(()=>[o(E,{modelValue:t.form.postSort,"onUpdate:modelValue":e[3]||(e[3]=s=>t.form.postSort=s),"controls-position":"right",min:0},null,8,["modelValue"])]),_:1})]),_:1})]),_:1}),o(b,{gutter:20},{default:l(()=>[o(m,{span:24},{default:l(()=>[o(i,{label:"备注",prop:"remark"},{default:l(()=>[o(_,{modelValue:t.form.remark,"onUpdate:modelValue":e[4]||(e[4]=s=>t.form.remark=s),type:"textarea",placeholder:"请输入内容"},null,8,["modelValue"])]),_:1})]),_:1})]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["modelValue","title"])])}}});export{Pe as default};
