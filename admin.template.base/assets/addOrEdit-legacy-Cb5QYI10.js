System.register(["./vue-legacy-BwqaE-UV.js","./role-legacy-I_0by_47.js","./index-legacy-DkHySrN9.js","./menu-legacy-DRaHebqR.js","./vue-i18n-legacy-I02oa_8H.js","./element-plus-legacy-wKlBsICL.js","./@vue-legacy-DnKxfRmB.js","./axios-legacy-DOQcXz3s.js","./vue-router-legacy-D0FjC2WZ.js","./pinia-legacy-CPPRg8p1.js","./vue-demi-legacy-DUElpuNi.js","./@vueuse-legacy-B8BAriPD.js","./js-cookie-legacy-C5MzxRlA.js","./animate.css-legacy-z9SqsCt_.js","./dayjs-legacy-BEK7-do9.js","./element-easy-print-legacy-P4zBGZwT.js","./mockjs-legacy-B6RXmGMp.js","./lodash-legacy-BjC4_Cl0.js","./vue3-draggable-resizable-yn-legacy-DjejEIa5.js","./element-easy-form-legacy-DUWnY3xV.js","./vuedraggable-legacy-COMv7T1_.js","./@vue-monaco-legacy-CjDR2hhE.js","./uuid-legacy-BdquiBiX.js","./@element-plus-legacy-Cp3RqB0e.js","./lodash-es-legacy-C-A1-n4T.js","./@popperjs-legacy-C1grkGOr.js","./@ctrl-legacy-9okVt3ht.js","./async-validator-legacy-CHN_Z1xY.js","./memoize-one-legacy-BdKv67M6.js","./normalize-wheel-es-legacy-k5qzjKXA.js","./@floating-ui-legacy-CYdxb3Dm.js","./@intlify-legacy-DKMS_M3y.js"],function(e,l){"use strict";var a,t,n,o,s,u,r,d,c,m,p,i,y,g,h,v,j,f,k,b,N,C,E,V;return{setters:[null,e=>{a=e.d,t=e.e,n=e.g},e=>{o=e.t,s=e.v,u=e.a},e=>{r=e.t,d=e.r},e=>{c=e.u},e=>{m=e.a},e=>{p=e.d,i=e.s,y=e.r,g=e.B,h=e.w,v=e.j,j=e.o,f=e.q,k=e.l,b=e.a,N=e.k,C=e.v,E=e.u,V=e.n},null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null],execute:function(){const l=p({__name:"addOrEdit",props:{modelValue:{type:Boolean,defalut:!1},id:{type:String,defalut:""}},emits:["update:modelValue","update"],setup(e,{emit:l}){const{t:u}=c(),p=l,_=i(!1),A=i(!1),I=y(),w=async()=>{try{const e=await I.value.validate();O.value.model.menuIds=(()=>{let e=z.value.getCheckedKeys(),l=z.value.getHalfCheckedKeys();return e.unshift.apply(e,l),e})(),S.id?a(e).then(e=>{m.success(u("操作成功")),J(),p("update")}):t(e).then(e=>{m.success(u("操作成功")),J(),p("update")})}catch(e){console.log("error :>> ",e)}},x=g({menuOptions:[],menuExpand:!1,menuNodeAll:!1}),O=y({rowAttrs:{gutter:20,justify:"start",align:"middle"},schema:[{label:"角色名称",prop:"roleName",colAttrs:{span:12},componentName:"ElInput",attrs:{placeholder:"请输入"},rules:[{required:!0,message:"不能为空",trigger:"change"}]},{label:"权限字符",prop:"roleKey",colAttrs:{span:12},componentName:"ElInput",attrs:{placeholder:"请选择"},rules:[{required:!1,message:"不能为空",trigger:"change"}]},{label:"角色顺序",prop:"roleSort",colAttrs:{span:12},componentName:"ElInputNumber",attrs:{placeholder:"请输入",precision:2,"controls-position":"right",...s}},{label:"邮箱",prop:"email",colAttrs:{span:12},componentName:"ElInput",attrs:{type:"number",placeholder:"请选择"}},{label:"用户名称",prop:"userName",colAttrs:{span:12},componentName:"ElInput",hidden:{matchPattern:"&&",dataSelect:[],type:"function",value:!1,dataJs:(e,l)=>null!=l.userId},attrs:{placeholder:"请输入"}},{label:"状态",prop:"status",colAttrs:{span:12},componentName:"selectDict",attrs:{dictCode:"sys_normal_disable",placeholder:"请选择",showPassword:!0}},{label:"菜单权限",prop:"menuIds",colAttrs:{span:12},componentName:"ElInput",attrs:{}},{label:"备注",type:"COMPONENT",formItemAttrs:{},attrs:{placeholder:"请输入",type:"textarea"},rules:[],prop:"remark",componentName:"ElInput",colAttrs:{span:24}}],model:{}});let S=e;const z=y(),q=e=>d(e).then(e=>(x.menuOptions=e.menus,e));h(()=>S.modelValue,e=>{_.value=e,S.id&&e?(()=>{const e=q(S.id);n(S.id).then(l=>{O.value.model=l.data,V(()=>{e.then(e=>{e.checkedKeys.forEach(e=>{V(()=>{z.value.setChecked(e,!0,!1)})})})})})})():!S.id&&e&&(r().then(e=>{x.menuOptions=e.data}),O.value.model={})},{immediate:!0});const J=()=>{p("update:modelValue",!1)};return h(()=>_.value,e=>{e||J()}),(l,a)=>{const t=v("el-checkbox"),n=v("el-tree"),s=v("ElementEasyForm"),u=v("el-button"),r=v("ComDialog");return j(),f(r,{modelValue:_.value,"onUpdate:modelValue":a[6]||(a[6]=e=>_.value=e),width:E(o),title:e.id?"编辑":"新增"},{footer:k(()=>[b("div",null,[N(u,{size:"large",onClick:J},{default:k(()=>a[10]||(a[10]=[C("取消")])),_:1}),N(u,{size:"large",loading:A.value,type:"primary",onClick:w},{default:k(()=>a[11]||(a[11]=[C("保存")])),_:1},8,["loading"])])]),default:k(()=>[N(s,{ref_key:"comFromRef",ref:I,formJson:O.value},{menuIds:k(()=>[b("div",null,[b("div",null,[N(t,{modelValue:x.menuExpand,"onUpdate:modelValue":a[0]||(a[0]=e=>x.menuExpand=e),onChange:a[1]||(a[1]=e=>(e=>{{let l=x.menuOptions;for(let a=0;a<l.length;a++)z.value.store.nodesMap[l[a].id].expanded=e}})(e))},{default:k(()=>a[7]||(a[7]=[C("展开/折叠")])),_:1},8,["modelValue"]),N(t,{modelValue:x.menuNodeAll,"onUpdate:modelValue":a[2]||(a[2]=e=>x.menuNodeAll=e),onChange:a[3]||(a[3]=e=>{return l=e,void z.value.setCheckedNodes(l?x.menuOptions:[]);var l})},{default:k(()=>a[8]||(a[8]=[C("全选/全不选")])),_:1},8,["modelValue"]),N(t,{modelValue:O.value.model.menuCheckStrictly,"onUpdate:modelValue":a[4]||(a[4]=e=>O.value.model.menuCheckStrictly=e),onChange:a[5]||(a[5]=e=>{return l=e,void(O.value.model.menuCheckStrictly=!!l);var l})},{default:k(()=>a[9]||(a[9]=[C("父子联动")])),_:1},8,["modelValue"])]),N(n,{class:"tree-border",data:x.menuOptions,"show-checkbox":"",ref_key:"treeRef",ref:z,"node-key":"id","check-strictly":!O.value.model.menuCheckStrictly,"empty-text":"加载中，请稍候",props:x.defaultProps},null,8,["data","check-strictly","props"])])]),_:1},8,["formJson"])]),_:1},8,["modelValue","width","title"])}}});e("default",u(l,[["__file","D:/work/public/admin-tempalte-base/src/views/system/role/component/addOrEdit.vue"]]))}}});
