import"./vue-BCJY8gBf.js";import{u as V,b as y}from"./vue-router-Bk-12vT2.js";import{a as x}from"./index-DnKBT612.js";import{u as k,g as D}from"./user-B2FNfbOt.js";import{a as R}from"./element-plus-BIk4sW6s.js";import{d as S,B as d,r as w,b as C,j as r,o as E,c as B,k as a,l,a as c,v as T,n as U}from"./@vue-BwKUEgJD.js";import"./axios-DWt2DAqT.js";import"./pinia-TB7j859w.js";import"./vue-demi-DP18qiWf.js";import"./@vueuse-BO9Bf6Jf.js";import"./js-cookie-C1NIBS1L.js";import"./vue-i18n-DkRB_xiH.js";import"./@intlify-BnZ-SFqO.js";/* empty css                    */import"./dayjs-CpORZXld.js";import"./element-easy-print-DsNlMTPy.js";import"./mockjs-CpzBLoCE.js";import"./lodash-Ce2coQ-v.js";import"./vue3-draggable-resizable-yn-CG0QmAMT.js";import"./element-easy-form-CUlqWkgt.js";import"./vuedraggable-BjUjsGh2.js";import"./@vue-monaco-B0CNy8YX.js";import"./uuid-CQkTLCs1.js";import"./@element-plus-D9bzjPyL.js";import"./lodash-es-D0ldFxdg.js";import"./@popperjs-D9SI2xQl.js";import"./@ctrl-riLredlm.js";import"./async-validator-BxgltDpX.js";import"./memoize-one-BdPwpGay.js";import"./normalize-wheel-es-B6fDCfyv.js";import"./@floating-ui-uXSQws5g.js";const j={class:"commonBoxmp"},q={class:"jcb aic w100"},A={class:"aic jcc mt20"},F=S({__name:"authUser",setup(O){const f=V(),p=y(),o=d({openDataScope:!1,defaultProps:{children:"children",label:"label"},menuOptions:[],deptOptions:[],deptExpand:!1,deptNodeAll:!1,menuExpand:!1,menuNodeAll:!1,title:"",form:{},userVisible:!1,roleIds:[],height:0,tableData:[],columnData:[{label:"角色编号",prop:"roleId",visible:!0},{label:"角色名称",prop:"roleName",visible:!0},{label:"权限字符",prop:"roleKey",visible:!0},{label:"创建时间",prop:"createTime",visible:!0}],loading:!1}),n=d(JSON.parse(JSON.stringify({pageNum:1,pageSize:10,userName:"",phonenumber:""}))),b=t=>{o.roleIds=t.map(e=>e.roleId)},_=async t=>{const e=n.userId,s=o.roleIds.join(",");k({userId:e,roleIds:s}).then(i=>{R.success("授权成功"),h()})},u=w(),g=()=>{o.loading=!0,D(n.userId).then(t=>{o.form=t.user,o.tableData=t.roles,o.loading=!1,U(()=>{o.tableData.forEach(e=>{e.flag&&u.value.tableRef.toggleRowSelection(e)})})})},h=()=>{f.go(-1)};return C(()=>{const t=p.params&&p.params.userId;t&&(n.userId=t,g())}),(t,e)=>{const s=r("el-input"),i=r("el-form-item"),N=r("el-form"),v=r("el-button"),I=r("TableV2");return E(),B("div",j,[a(I,{class:"flex1",data:o.tableData,ref_key:"tableV2Ref",ref:u,selection:"",onSelectionChange:b,columns:o.columnData},{tableHeader:l(()=>[c("div",q,[a(N,{ref:"queryForm",inline:!0},{default:l(()=>[a(i,{label:"用户昵称",prop:"nickName"},{default:l(()=>[a(s,{modelValue:o.form.nickName,"onUpdate:modelValue":e[0]||(e[0]=m=>o.form.nickName=m),clearable:"",disabled:"",style:{width:"240px"}},null,8,["modelValue"])]),_:1}),a(i,{label:"登录账号",prop:"userName"},{default:l(()=>[a(s,{modelValue:o.form.userName,"onUpdate:modelValue":e[1]||(e[1]=m=>o.form.userName=m),placeholder:"请输入手机号码",clearable:"",disabled:"",style:{width:"240px"}},null,8,["modelValue"])]),_:1})]),_:1},512)]),c("div",A,[a(v,{type:"primary",onClick:e[2]||(e[2]=m=>_())},{default:l(()=>e[3]||(e[3]=[T("授权")])),_:1})])]),_:1},8,["data","columns"])])}}}),he=x(F,[["__file","D:/work/public/admin-tempalte-base/src/views/system/user/authUser.vue"]]);export{he as default};
